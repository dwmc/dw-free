<chapter id="lj.install.finishing">
  <title>Finishing Up</title>
  <para>
    You should now just about have a working &lj; installation.</para>

 <formalpara>
    <title>&captcha;s</title>
    <para>
      If you want &captcha;s on your installation, you first need to set the
      related options in
      <link linkend="lj.install.ljconfig.vars"><filename>ljconfig.pl</filename></link>.
      Generate the &captcha;s as follows:</para></formalpara>
    <para>
    <screen><prompt>#</prompt> <userinput><command>bin/ljmaint.pl <option>gen_image_captchas</option></command></userinput></screen>
    </para>
    <para>Afterwards, new ones will get generated by the maintenance task you set up for them.</para>

  <formalpara>
    <title>Configuration check</title>
    <para>
      To check that everything is set-up okay, you should run the provided configuration checking tool, 
      located at <filename>&envarljhome;/bin/checkconfig.pl</filename>.
      <filename>checkconfig.pl</filename> will check for missing perl modules, attempt to connect to your database,
      and do other checks to ensure everything will work smoothly.
    </para>
  </formalpara>
  <formalpara>
    <title>Start things up</title>
    <para>If you haven&apos;t restarted &apache;, you&apos;ll want to do that now:</para>
  </formalpara>

<para>
<screen><prompt>#</prompt> <userinput>apachectl stop</userinput>
<prompt>#</prompt> <userinput>apachectl start</userinput></screen>
</para>    
    <para>Note that doing a <quote>graceful</quote> or <quote>restart</quote> is not guaranteed to work.  The &lj; code
      doesn&apos;t implement any &modperl; restart handlers, and weird things have been reported to happen
      using <userinput>apachectl restart</userinput></para> 
      <para>If you installed &apache; through the <package>apache-perl</package> 
      package, the command you need is <command>apache-perlctl</command> instead of <command>apachectl</command>.</para>

 <formalpara>
    <title>The system user</title>
    <para>
      To administrate your site properly, you will need to create the system user that&apos;ll have
      privileges to give privileges to other users:
    </para>
 </formalpara>    

<para>
<screen><prompt>$</prompt> <userinput><command>&envarljhome;/bin/upgrading/make_system.pl</command></userinput></screen>
</para>
    <para>It&apos;ll prompt you for the password to use for the
    <systemitem class="username">system</systemitem> account and then sets it all up.</para>
    <para>You now have the ability to login to your <abbrev>LJ</abbrev> site as
    user <quote>system</quote> with the password you set and then grant privileges
    from the admin section to other users, and to the system account itself:
      http://your-lj-server/admin/priv/</para>

  <para>
    If you have any questions, join the &ljdevweb; community on &ljcom; and post your questions.
    We&apos;d love to help you out.
  </para>
</chapter>

<!--
Local Variables:
mode:sgml
sgml-parent-document: ("index.xml" "part" "chapter")
End:
-->

