<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta content="text/html; charset=ISO-8859-1" http-equiv="Content-Type"><title>2. Caveats</title><link rel="stylesheet" href="style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.55.0"><link rel="home" href="index.html" title="S2 Manual"><link rel="up" href="notes.html" title="Chapter 5. Tech Notes"><link rel="previous" href="how.html" title="1. Behind the Scenes"><link rel="next" href="misc.html" title="3. Misc"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2. Caveats</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="how.html">Prev</a> </td><th width="60%" align="center">Chapter 5. Tech Notes</th><td width="20%" align="right"> <a accesskey="n" href="misc.html">Next</a></td></tr></table><hr></div><div class="section"><div class="titlepage"><div><h2 class="title" style="clear: both"><a class="linkhere" href="#caveats">»</a><a name="caveats"></a>2. Caveats</h2></div></div><div class="section"><div class="titlepage"><div><h3 class="title"><a class="linkhere" href="#caveats.printhtml">»</a><a name="caveats.printhtml"></a>2.1. Untrusted layers printing incomplete HTML.</h3></div></div><p>All output from the print command in untrusted layers gets piped through the HTML cleaner which militantly cleans HTML, removing anything that's harmful or potentially harmful. Because styles can contain both user layers and trusted system layers, both of which can be printing, a print from a trusted layer flushes the HTML cleaner's buffer, forcing it to finish earlier than it might otherwise wish to. For instance, if an untrusted layer prints out an incomplete tag, normally the HTML cleaner waits until it sees the rest before sending it along to the client. But if a trusted layer forces a flush, the HTML cleaner may be confused and forced to over-escape a lot of HTML to be safe.</p><p>To avoid this problem print only complete tags at once, or avoid calling other code which may switch into trusted code.</p></div></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="how.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="notes.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="misc.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">1. Behind the Scenes </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 3. Misc</td></tr></table></div></body></html>
