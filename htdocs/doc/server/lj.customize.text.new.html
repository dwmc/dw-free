<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>1. Using site-specific text</title>
<link rel="stylesheet" href="style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="LiveJournal Server">
<link rel="up" href="lj.customize.text.html" title="Chapter 17. Customizing LJ's Content">
<link rel="prev" href="lj.customize.text.html" title="Chapter 17. Customizing LJ's Content">
<link rel="next" href="lj.customize.limits.html" title="Chapter 18. Setting your own Limits">
<meta name="date" content="2008-Jan-15">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">1. Using site-specific text</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="lj.customize.text.html">Prev</a> </td>
<th width="60%" align="center">Chapter 17. Customizing <abbr class="abbrev">LJ</abbr>'s Content</th>
<td width="20%" align="right"> <a accesskey="n" href="lj.customize.limits.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both" id="lj.customize.text.new">1. Using site-specific text</h2></div></div></div>
<p>
      To create your own site-specific language file, all you have to do is select which strings you would like to override from
      <code class="filename"><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/bin/upgrading/en.dat</code> and
      put them in a new file: <code class="filename">en_YS.dat</code>. Then, you add
      the language to your database using the steps below:</p>
<div class="procedure">
<a name="id2941423"></a><p class="title"><b>Procedure 17.1. Creating a new site-specific language file: <em class="replaceable"><code>en_YS</code></em>:</b></p>
<ol type="1">
<li><p>
          Create a new file under <code class="filename"><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/bin/upgrading</code>,
          labeled <code class="filename">en_YS.dat</code>. This file should contain all of the text you would like to override from
          <code class="filename"><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/bin/upgrading/en.dat</code>.</p></li>
<li>
<p>
          If you do not have a local <span class="application"><acronym class="acronym">BML</acronym></span> configuration file (<code class="filename">_config-local.bml</code>) in
          your <code class="filename"><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/htdocs</code> directory,
          you should create one now. Add the following line to your local
          configuration file:
</p>
<pre class="programlisting">DoGZIP 1
DefaultLanguage en_YS
DefaultScheme nameofscheme</pre>
</li>
<li>
<p>
          If you don't have a local language directive
          file (<code class="filename"><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/bin/upgrading/text-local.dat</code>)
          create one now. Add the following lines to your local language file:
</p>
<pre class="programlisting">domain:100:faq

# EnglishYS is child of English for general domain:
lang:100:en_YS:English (YS):sim:en
langdomain:en_YS:general

# EnglishYS is root of FAQ:
langdomain:en_YS:faq:1</pre>
</li>
<li><p>
        Add the appropriate values, like en_YS, to the relevant variables in
        your <code class="filename"><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/etc/ljconfig.pl</code> file:
        <a class="link" href="lj.install.ljconfig.vars.html#ljconfig.langs">@LJ::LANGS</a> and
         <a class="link" href="lj.install.ljconfig.vars.html#ljconfig.default_lang">@LJ::DEFAULT_LANG</a>.</p></li>
<li><p>
          Run
          <span class="command"><strong><em class="parameter"><code>$<code class="envar">LJHOME</code></code></em>/bin/upgrading/texttool.pl <code class="option">load</code></strong></span>.
        </p></li>
</ol>
</div>
<div class="note" style="margin-left: 0.5in; margin-right: 0.5in;">
<h3 class="title">Note</h3>
<p>The line &#8220;<span class="quote">langdomain:en_YS:faq:1</span>&#8221; is only required if
you want your FAQs to be translatable into other languages which derive from
<code class="literal">en_YS</code>. You probably do not want that, at least initially.</p>
<p>Once text is in the database, it is never changed with
 <span class="command"><strong>texttool.pl <code class="option">load</code></strong></span>. This is to prevent
 site local modifications (and modifications made at /translate/) from being lost.
 To start over, use <span class="command"><strong>texttool.pl <code class="option">wipedb</code></strong></span>,
 and re-populate. Restart <span class="application">memcached</span> if you are using it, as text lives
 in there, too.</p>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="lj.customize.text.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="lj.customize.text.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="lj.customize.limits.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 17. Customizing <abbr class="abbrev">LJ</abbr>'s Content </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 18. Setting your own Limits</td>
</tr>
</table>
</div>
</body>
</html>
