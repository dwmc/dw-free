<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>3. Configure memcached and SSL</title>
<link rel="stylesheet" href="style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="LiveJournal Server">
<link rel="up" href="lj.install.supplemental_sw.html" title="Chapter 9. Supplemental Software">
<link rel="prev" href="lj.install.supplemental_sw.multiple_db.html" title="2. Setting up multiple database servers">
<link rel="next" href="lj.install.supplemental_sw.perlbal.html" title="4. Configure Perlbal">
<meta name="date" content="2008-Jan-15">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">3. Configure <span class="application">memcached</span> and <acronym class="acronym">SSL</acronym>
</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="lj.install.supplemental_sw.multiple_db.html">Prev</a> </td>
<th width="60%" align="center">Chapter 9. Supplemental Software</th>
<td width="20%" align="right"> <a accesskey="n" href="lj.install.supplemental_sw.perlbal.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="section" lang="en">
<div class="titlepage"><div><div><h2 class="title" style="clear: both" id="lj.install.supplemental_sw.memcached_ssl">3. Configure <span class="application">memcached</span> and <acronym class="acronym">SSL</acronym>
</h2></div></div></div>
<p>
This part assumes you have installed the relevant software listed in
<a class="link" href="lj.install.supplemental_sw.dependencies.html" title="1. Install extra required packages and modules">section 1</a> of
this chapter.</p>
<p>
Some parts of the site, like the account creation page
- <code class="filename">create.bml</code>, can use <acronym class="acronym">SSL</acronym> if it is available. If
you do not set up an <acronym class="acronym">SSL</acronym>-enabled area of the site, other security
like challenge-response authentication is used. As we mentioned in the abstract of
this chapter, <acronym class="acronym">SSL</acronym> requires its own <acronym class="acronym">IP</acronym>. You cannot
use an <span class="application">Apache</span> name-based <code class="literal">VirtualHost</code> for <acronym class="acronym">SSL</acronym>.</p>
<p>
Through <span class="application">memcached</span>, your installation will rely on memory more
instead of slower disk reads. You can learn more about <span class="application">memcached</span> on
the <a href="http://www.danga.com/" target="_top">Danga Interactive<span class="ulink"><img src="/img/link.png" alt="[o]" title=""></span></a> website.</p>
<p>
In <code class="filename">ljconfig.pl</code>, set up the location of <span class="application">memcached</span> servers,
and enable support for <acronym class="acronym">SSL</acronym>:</p>
<div class="informalexample"><pre class="programlisting">
<code class="literal">@LJ::MEMCACHE_SERVERS</code> = ("127.0.0.1:11211");
<code class="literal">$LJ::DEV_HAS_REAL_SSL</code> = 1;   # for development installs. (will be configured later with <span class="application">Perlbal</span>)
<code class="literal">$LJ::USE_SSL</code> = 1;
</pre></div>
<p>
You also need to set your <acronym class="acronym">SSL</acronym> <acronym class="acronym">URL</acronym> base prefix, in
 <a class="link" href="lj.install.ljconfig.vars.html#ljconfig.sslroot"><code class="literal">$LJ::SSLROOT</code></a></p>
<p>If you require users to agree to Terms of Service, and you have a
 <code class="filename">tos-mini.bml</code> file, you can copy it from the
 <code class="filename">htdocs</code> subdirectory to the equivalent
 <acronym class="acronym">SSL</acronym> subdirectory: <code class="filename">ssldocs/legal</code>.</p>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="lj.install.supplemental_sw.multiple_db.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="lj.install.supplemental_sw.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="lj.install.supplemental_sw.perlbal.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">2. Setting up multiple database servers </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 4. Configure <span class="application">Perlbal</span>
</td>
</tr>
</table>
</div>
</body>
</html>
