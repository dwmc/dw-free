<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>LiveJournal Programming</title>
<link rel="stylesheet" href="style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<meta name="description" content="This book covers all LiveJournal Programming topics!">
<link rel="start" href="index.html" title="LiveJournal Server">
<link rel="up" href="index.html" title="LiveJournal Server">
<link rel="prev" href="ljp.api.bml.set_status.html" title="BML::set_status">
<link rel="next" href="ljp.prog-guide.html" title="Part I. Programming Guidelines">
<meta name="date" content="2008-Jan-15">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">
<span class="application">LiveJournal</span> Programming</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ljp.api.bml.set_status.html">Prev</a> </td>
<th width="60%" align="center"> </th>
<td width="20%" align="right"> <a accesskey="n" href="ljp.prog-guide.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="book" lang="en" id="ljp.index">
<div class="titlepage">
<div>
<div><h1 class="title">
<span class="application">LiveJournal</span> Programming</h1></div>
<div><h2 class="subtitle">Goathacking For a Better World</h2></div>
<div><p class="copyright">Copyright © 1999, 2000, 2001, 2002, 2003, 2004, 2007 <a href="http://www.livejournal.org/" target="_top">LiveJournal<span class="ulink"><img src="/img/link.png" alt="[o]" title=""></span></a></p></div>
<div><div class="legalnotice">
<a name="id3029519"></a><p>
    Permission is granted to copy, distribute and/or modify this document
    under the terms of the <acronym class="acronym">GNU</acronym> Free Documentation License,
    Version 1.2 or any later version published by the Free Software Foundation;
    with no Invariant Sections, no Front-Cover Texts, and no Back-Cover
    Texts.  A copy of the license is included in in the section
    entitled &#8220;<span class="quote"><a class="xref" href="appx.gfdl.html" title="Appendix A. GNU Free Documentation License">Appendix A, <i>GNU Free Documentation License</i></a></span>&#8221;.</p>
</div></div>
<div><div class="abstract">
<p class="title"><b>Abstract</b></p>
<p>This book covers all <span class="application">LiveJournal</span> Programming topics!</p>
</div></div>
</div>
<hr>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt><span class="part"><a href="ljp.prog-guide.html">I. Programming Guidelines</a></span></dt>
<dd><dl>
<dt><span class="chapter"><a href="ljp.prog-guide.general.html">1. General Guidelines</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.prog-guide.general.keypoints.html">1. Key points to remember</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.general.whitespace.html">2. Trailing whitespace</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.general.functions.html">3. Best Practices: Functions</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.general.perl_style.html">4. Perl Style</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.prog-guide.source.html">2. Working with the Sources</a></span></dt>
<dt><span class="chapter"><a href="ljp.prog-guide.team.html">3. Team Player Guidelines</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.prog-guide.team.camping_rule.html">1. Be a good camper</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.team.nearby_code.html">2. Nearby Code</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.team.returnearly.html">3. Return early when possible</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.prog-guide.security.html">4. Security</a></span></dt>
<dt><span class="chapter"><a href="ljp.prog-guide.database.html">5. Database</a></span></dt>
<dt><span class="chapter"><a href="ljp.prog-guide.performance.html">6. Performance &amp; Scalability</a></span></dt>
<dt><span class="chapter"><a href="ljp.prog-guide.code_specifics.html">7. Coding Specifics</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.prog-guide.code_specifics.accnames.html">1. Accessor names</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.code_specifics.ifelse.html">2. if, unless, else</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.code_specifics.ternary_op.html">3. Ternary Operator</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.prog-guide.patches.html">8. Patches</a></span></dt>
<dt><span class="chapter"><a href="ljp.prog-guide.broader_view.html">9. Focus on the broad picture</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.prog-guide.broader_view.strings_urls.html">1. Don't hard-code <acronym class="acronym">URL</acronym>s in translation strings</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.broader_view.changing_strings.html">2. Deleting and changing translation strings</a></span></dt>
<dt><span class="section"><a href="ljp.prog-guide.broader_view.schemesmarts.html">3. Be smart to site schemes</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.prog-guide.i18n.html">10. Internationalization</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="lj.customize.text.thenstrip.html">1. Removing hard-coded English text</a></span></dt>
<dt><span class="section"><a href="lj.customize.text.strippingtips.html">2. The /translate/ system - English-stripping</a></span></dt>
</dl></dd>
</dl></dd>
<dt><span class="part"><a href="ljp.internals.html">II. Internals</a></span></dt>
<dd><dl>
<dt><span class="chapter"><a href="ljp.int.caps.html">11. Capabilities Classes</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.portal_modules.html">12. Portal Modules</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.cookie_scheme.html">13. Cookie Scheme</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.oh_crumbs.html">14. Creating &amp; Using Breadcrumbs</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.statusvis.html">15. Statusvis Codes</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.dversion.html">16. Dversion Values</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.xml_userdata.html">17. <acronym class="acronym">XML</acronym> Userdata</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.int.xml_userdata.data_formats.html">1. Data Formats</a></span></dt>
<dt><span class="section"><a href="ljp.int.xml_userdata.rate_limits.html">2. Rates &amp; Limits</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.int.esn.html">18. <code class="systemitem"><acronym class="acronym">ESN</acronym></code> - Event Subscription Notification</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.advertising_lexicon.html">19. Advertising Lexicon</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.memcache_keys.html">20. <span class="application">memcached</span> data - storage &amp; identification</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.int.memcache_keys_format.html">1. data storage format: keys</a></span></dt>
<dt><span class="section"><a href="ljp.int.memcache_keys_list.html">2. <span class="application">memcached</span> keys reference</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.int.mogile_keys.html">21. <code class="systemitem"><span class="application">MogileFS</span></code> keys</a></span></dt>
<dt><span class="chapter"><a href="ljp.int.multihomed_userprops.html">22. Multihomed Userprops</a></span></dt>
</dl></dd>
<dt><span class="part"><a href="ljp.csp.protocol.html">III. Client/Server Protocol</a></span></dt>
<dd><dl>
<dt><span class="chapter"><a href="ljp.csp.guide.html">23. Client / Server Protocol - Quick Reference</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.csp.guide.intro.html">1. Introduction to the Protocol</a></span></dt>
<dt><span class="section"><a href="ljp.csp.guide.proxies.html">2. Working with Proxies</a></span></dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.csp.auth.html">24. Authentication in the Client Server Protocol</a></span></dt>
<dd><dl>
<dt><span class="section"><a href="ljp.csp.auth.clear.html">1. Clear</a></span></dt>
<dt><span class="section"><a href="ljp.csp.auth.cookies.html">2. <code class="systemitem">HTTP</code> Cookies</a></span></dt>
<dt><span class="section"><a href="ljp.csp.auth.challresp.html">3. Challenge-Response</a></span></dt>
</dl></dd>
<dt><span class="reference"><a href="ljp.csp.flat.protocol.html">I. Flat Client/Server Protocol Reference</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.checkfriends.html">checkfriends</a></span><span class="refpurpose"> &#8212; Mode that clients can use to poll the server to see if their Friends list has been updated.  This request
is extremely quick, and is the preferred way for users to see when their Friends list is updated, rather
than pounding on reload in their browser, which is stressful on the servers.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.consolecommand.html">consolecommand</a></span><span class="refpurpose"> &#8212; Run an administrative command. The LiveJournal server has a text-based shell-like administration console where less-often used commands can be entered. 
There is a web interface to this shell online; this is another gateway to that. The mode is limited to one server-parsed command only. 
The command should be sent with double quotes around any arguments with spaces, with double quotes escaped by backslashes, and backslashes escaped with backslashes. 
Optionally, you can send a listref instead of a string for this argument, in which case, we will use your argument separation and not parse it ourselves.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.editevent.html">editevent</a></span><span class="refpurpose"> &#8212; Edit or delete a user's past journal entry</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.editfriendgroups.html">editfriendgroups</a></span><span class="refpurpose"> &#8212; Edit the user's defined groups of friends.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.editfriends.html">editfriends</a></span><span class="refpurpose"> &#8212; Add, edit, or delete friends from the user's Friends list.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.friendof.html">friendof</a></span><span class="refpurpose"> &#8212; Returns a list of which other LiveJournal users list this user as their friend.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.getchallenge.html">getchallenge</a></span><span class="refpurpose"> &#8212; Generate a one-time, quick expiration challenge to be used in challenge/response authentication methods.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.getdaycounts.html">getdaycounts</a></span><span class="refpurpose"> &#8212; This mode retrieves the number of journal entries per day.  Useful for populating
calendar widgets in GUI clients.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.getevents.html">getevents</a></span><span class="refpurpose"> &#8212; Download parts of the user's journal. See also syncitems protocol mode.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.getfriendgroups.html">getfriendgroups</a></span><span class="refpurpose"> &#8212; Retrieves a list of the user's defined groups of friends.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.getfriends.html">getfriends</a></span><span class="refpurpose"> &#8212; Returns a list of which other LiveJournal users this user lists as their friend.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.getusertags.html">getusertags</a></span><span class="refpurpose"> &#8212; Retrieves a list of the user's defined tags.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.login.html">login</a></span><span class="refpurpose"> &#8212; Log in to the server, while announcing your client version.  The server returns with whether the password is good or not, the user's name, an optional message to be displayed to the user, and the list of the user's friend groups.  (friend groups can also be retrieved using the <code class="literal">getfriendgroups</code> mode)</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.postevent.html">postevent</a></span><span class="refpurpose"> &#8212; The most important mode, this is how a user actually submits a new log entry to the server.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.sessionexpire.html">sessionexpire</a></span><span class="refpurpose"> &#8212; Expires one or more sessions that a user has active within the system.  This can be used to log a user out of any browsers they are logged in from, as well as to cancel any sessions created with the sessionexpire mode.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.sessiongenerate.html">sessiongenerate</a></span><span class="refpurpose"> &#8212; Generates a session that can be used to setup a cookie for accessing the site with a user's privileges.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.flat.syncitems.html">syncitems</a></span><span class="refpurpose"> &#8212; Returns a list (or part of a list) of all the items (journal entries, to-do items, comments) that have been created or updated on LiveJournal since you last downloaded them.  Note that the items themselves are not returned --- only the item type and the item number.  After you get this you have to go fetch the items using another protocol mode.  For journal entries (type "L"), use the <code class="literal">getevents</code> mode with a <code class="literal">selecttype</code> of "syncitems".</span>
</dt>
</dl></dd>
<dt><span class="reference"><a href="ljp.csp.xml-rpc.protocol.html">II. <acronym class="acronym">XML-RPC</acronym> Client/Server Protocol Reference</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.checkfriends.html">checkfriends</a></span><span class="refpurpose"> &#8212; 
Checks to see if your Friends list has been updated since a specified time.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.consolecommand.html">consolecommand</a></span><span class="refpurpose"> &#8212; 
Run an administrative command.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.editevent.html">editevent</a></span><span class="refpurpose"> &#8212; 
Edit or delete a user's past journal entry
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.editfriendgroups.html">editfriendgroups</a></span><span class="refpurpose"> &#8212; 
Edit the user's defined groups of friends.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.editfriends.html">editfriends</a></span><span class="refpurpose"> &#8212; 
Add, edit, or delete friends from the user's Friends list.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.friendof.html">friendof</a></span><span class="refpurpose"> &#8212; 
Returns a list of which other LiveJournal users list this user as their friend.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.getchallenge.html">getchallenge</a></span><span class="refpurpose"> &#8212; 
Generate a server challenge string for authentication.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.getdaycounts.html">getdaycounts</a></span><span class="refpurpose"> &#8212; 
This mode retrieves the number of journal entries per day.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.getevents.html">getevents</a></span><span class="refpurpose"> &#8212; 
Download parts of the user's journal. See also syncitems mode.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.getfriends.html">getfriends</a></span><span class="refpurpose"> &#8212; 
Returns a list of which other LiveJournal users this user lists as their friend.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.getfriendgroups.html">getfriendgroups</a></span><span class="refpurpose"> &#8212; 
Retrieves a list of the user's defined groups of friends.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.getusertags.html">getusertags</a></span><span class="refpurpose"> &#8212; 
Retrieves a list of the user's defined tags.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.login.html">login</a></span><span class="refpurpose"> &#8212; 
validate user's password and get base information needed for client to function
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.postevent.html">postevent</a></span><span class="refpurpose"> &#8212; 
The most important mode, this is how a user actually submits a new log entry to the server.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.sessionexpire.html">sessionexpire</a></span><span class="refpurpose"> &#8212; 
Expires session cookies.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.sessiongenerate.html">sessiongenerate</a></span><span class="refpurpose"> &#8212; 
Generate a session cookie.
</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.csp.xml-rpc.syncitems.html">syncitems</a></span><span class="refpurpose"> &#8212; 
Returns a list of all the items that have been created or updated for a user.
</span>
</dt>
</dl></dd>
<dt><span class="chapter"><a href="ljp.csp.blogger.html">25. Supporting the Blogger <acronym class="acronym">API</acronym></a></span></dt>
<dt><span class="chapter"><a href="ljp.csp.atom.html">26. Supporting the Atom <acronym class="acronym">API</acronym></a></span></dt>
<dt><span class="chapter"><a href="ljp.csp.versions.html">27. Protocol Versions</a></span></dt>
<dt><span class="chapter"><a href="ljp.csp.entry_downloading.html">28. Downloading Entries</a></span></dt>
<dt><span class="chapter"><a href="ljp.csp.export_comments.html">29. Exporting Comments</a></span></dt>
<dt><span class="chapter"><a href="ljp.csp.proplist.html">30. Journal Item Meta-data</a></span></dt>
<dt><span class="appendix"><a href="ljp.csp.faq.html">A. Frequently Asked Questions</a></span></dt>
</dl></dd>
<dt><span class="part"><a href="ljp.styles.index.html">IV. Making Journal Styles</a></span></dt>
<dd><dl>
<dt><span class="chapter"><a href="ljp.styles.compare.html">31. Comparing Style Systems</a></span></dt>
<dt><span class="chapter"><a href="ljp.styles.s1.html">32. Style System 1 (<acronym class="acronym">S1</acronym>)</a></span></dt>
<dd><dl><dt><span class="section"><a href="ljp.styles.s1.intro.html">1. S1 Introduction</a></span></dt></dl></dd>
<dt><span class="appendix"><a href="ljp.styles.s1.lastn.html">B. S1 Variable Reference: Most Recent Entries</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.global_head.html">GLOBAL_HEAD</a></span><span class="refpurpose"> &#8212; Any arbitrary HTML you want placed in the &lt;HEAD&gt; of the page being displayed.
This is a good place to put CSS or META tags.  Being global, this
will be placed in any view type.  If you want to add tags for a specific view
type, use <a class="xref" href="ljp.styles.s1.lastn_head.html" title="LASTN_HEAD">LASTN_HEAD</a>, <a class="xref" href="ljp.styles.s1.day_head.html" title="DAY_HEAD">DAY_HEAD</a>, <a class="xref" href="ljp.styles.s1.friends_head.html" title="FRIENDS_HEAD">FRIENDS_HEAD</a>, or <a class="xref" href="ljp.styles.s1.calendar_head.html" title="CALENDAR_HEAD">CALENDAR_HEAD</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_5linkunit_ad.html">LASTN_5LINKUNIT_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a 5 link unit ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_altposter.html">LASTN_ALTPOSTER</a></span><span class="refpurpose"> &#8212; When a user other than the journal owner posts a top-level journal entry in a journal, this variable is inserted into the %%altposter%% property of <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_altposter_pic.html">LASTN_ALTPOSTER_PIC</a></span><span class="refpurpose"> &#8212; Goes into %%pic%% in <a class="xref" href="ljp.styles.s1.lastn_altposter.html" title="LASTN_ALTPOSTER">LASTN_ALTPOSTER</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_close_skyscraper_ad.html">LASTN_CLOSE_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional close wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_current.html">LASTN_CURRENT</a></span><span class="refpurpose"> &#8212; When a user has specified "current" information (like current music or current mood), this variable is added to the %%currents%% property of <a class="xref" href="ljp.styles.s1.lastn_currents.html" title="LASTN_CURRENTS">LASTN_CURRENTS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_currents.html">LASTN_CURRENTS</a></span><span class="refpurpose"> &#8212; When a user has specified "current" information (like current music or current mood), this variable separates those entries from the rest of the journal entry in <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_date_format.html">LASTN_DATE_FORMAT</a></span><span class="refpurpose"> &#8212; Describes how dates/times are formatted in each <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_end_day.html">LASTN_END_DAY</a></span><span class="refpurpose"> &#8212; The opposite of <a class="xref" href="ljp.styles.s1.lastn_new_day.html" title="LASTN_NEW_DAY">LASTN_NEW_DAY</a>.  This variable is inserted into %%events%% in the <a class="xref" href="ljp.styles.s1.lastn_page.html" title="LASTN_PAGE">LASTN_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_event.html">LASTN_EVENT</a></span><span class="refpurpose"> &#8212; An event from the user's journal.  A bunch of these (as specified by <a class="xref" href="ljp.styles.s1.lastn_opt_items.html" title="LASTN_OPT_ITEMS">LASTN_OPT_ITEMS</a>) get put together to form the %%events%% property of the <a class="xref" href="ljp.styles.s1.lastn_page.html" title="LASTN_PAGE">LASTN_PAGE</a> variable.  See also <a class="xref" href="ljp.styles.s1.lastn_event_private.html" title="LASTN_EVENT_PRIVATE">LASTN_EVENT_PRIVATE</a> and <a class="xref" href="ljp.styles.s1.lastn_event_protected.html" title="LASTN_EVENT_PROTECTED">LASTN_EVENT_PROTECTED</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_event_private.html">LASTN_EVENT_PRIVATE</a></span><span class="refpurpose"> &#8212; An optional specialized form of <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a> to be used on entries that are marked as "private" (only the original poster can see them).  If you leave this blank, the standard event variable will be used instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_event_protected.html">LASTN_EVENT_PROTECTED</a></span><span class="refpurpose"> &#8212; An optional specialized form of <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a> to be used on entries that are marked as "friends" or "custom" (only a select group of people can see them).  If you leave this blank, the standard event variable will be used instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_head.html">LASTN_HEAD</a></span><span class="refpurpose"> &#8212; Any arbitrary HTML you want placed in the &lt;HEAD&gt; of the <a class="link" href="ljp.styles.s1.lastn.html" title="Appendix B. S1 Variable Reference: Most Recent Entries">lastn</a> page.
This is a good place to put CSS or META tags.  If you want to add the
same tags to all your pages, use <a class="xref" href="ljp.styles.s1.global_head.html" title="GLOBAL_HEAD">GLOBAL_HEAD</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_new_day.html">LASTN_NEW_DAY</a></span><span class="refpurpose"> &#8212; Before any <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a> that's on a day that no other event has been shown before, this block is inserted into %%events%% in the <a class="xref" href="ljp.styles.s1.lastn_page.html" title="LASTN_PAGE">LASTN_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_open_skyscraper_ad.html">LASTN_OPEN_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional open wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_opt_items.html">LASTN_OPT_ITEMS</a></span><span class="refpurpose"> &#8212; This is an integer value between 1 and 50 that sets how many
items are shown in the "events" property of the <a class="xref" href="ljp.styles.s1.lastn_page.html" title="LASTN_PAGE">LASTN_PAGE</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_page.html">LASTN_PAGE</a></span><span class="refpurpose"> &#8212; The HTML for the most recent journal entries page (lastn mode) that's sent to the browser.  Customize this as you'd like your page to look.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_range_history.html">LASTN_RANGE_HISTORY</a></span><span class="refpurpose"> &#8212; This should be the text that says the user is not viewing the most recent entries, but is instead viewing back into the history.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_range_mostrecent.html">LASTN_RANGE_MOSTRECENT</a></span><span class="refpurpose"> &#8212; This should be the text that says the user is viewing the top (most recent) entries, and there are %%numitems%% of them.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_skip_backward.html">LASTN_SKIP_BACKWARD</a></span><span class="refpurpose"> &#8212; The HTML to make the link to the next (less recent) page of the lastn view... going back in time.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_skip_forward.html">LASTN_SKIP_FORWARD</a></span><span class="refpurpose"> &#8212; The HTML to make the link to the previous (more recent) page of the lastn view... going forward in time.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_skip_links.html">LASTN_SKIP_LINKS</a></span><span class="refpurpose"> &#8212; If the user can go back a page or forward a page, this variable is inserted into the %%skiplinks%% property of <a class="xref" href="ljp.styles.s1.lastn_page.html" title="LASTN_PAGE">LASTN_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_skip_spacer.html">LASTN_SKIP_SPACER</a></span><span class="refpurpose"> &#8212; The HTML shown if both the skip backward and skip forward elements are displayed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_skyscraper_ad.html">LASTN_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a skyscraper ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_subject.html">LASTN_SUBJECT</a></span><span class="refpurpose"> &#8212; When a journal entry has a subject, this variable is inserted into the %%subject%% property of <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_talk_links.html">LASTN_TALK_LINKS</a></span><span class="refpurpose"> &#8212; Define here HTML (if any) that you want to be displayed for the links to read comments and post comments on the current event.  The contents of this variable are inserted into %%talklinks%% in <a class="xref" href="ljp.styles.s1.lastn_event.html" title="LASTN_EVENT">LASTN_EVENT</a>, if the user has commenting enabled.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_talk_readlink.html">LASTN_TALK_READLINK</a></span><span class="refpurpose"> &#8212; If there are comments on the existing journal entry being displayed, then one of these variables is inserted into the %%readlink%% property of <a class="xref" href="ljp.styles.s1.lastn_talk_links.html" title="LASTN_TALK_LINKS">LASTN_TALK_LINKS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_userpic.html">LASTN_USERPIC</a></span><span class="refpurpose"> &#8212; Creates the IMG tag needed to show your picture on the last-n page.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.lastn_website.html">LASTN_WEBSITE</a></span><span class="refpurpose"> &#8212; When the user has specified their website URL, this variable goes into the %%website%% property of <a class="xref" href="ljp.styles.s1.lastn_page.html" title="LASTN_PAGE">LASTN_PAGE</a>.</span>
</dt>
</dl></dd>
<dt><span class="appendix"><a href="ljp.styles.s1.calendar.html">C. S1 Variable Reference: Calendar view</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_5linkunit_ad.html">CALENDAR_5LINKUNIT_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a 5 link unit ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_close_skyscraper_ad.html">CALENDAR_CLOSE_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional close wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_day.html">CALENDAR_DAY</a></span><span class="refpurpose"> &#8212; This is a block of HTML for a day on the calendar, which gets inserted into %%days%% in the <a class="xref" href="ljp.styles.s1.calendar_week.html" title="CALENDAR_WEEK">CALENDAR_WEEK</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_day_event.html">CALENDAR_DAY_EVENT</a></span><span class="refpurpose"> &#8212; Some HTML that gets inserted into <a class="xref" href="ljp.styles.s1.calendar_day.html" title="CALENDAR_DAY">CALENDAR_DAY</a> variables when the number of events (journal entries) for that day is non-zero.  For instance, this is useful if you want to display a link to the <a class="link" href="ljp.styles.s1.day.html" title="Appendix D. S1 Variable Reference: Day view">day</a> view to see what the user's events for that day were.  On a day with zero events, you wouldn't want a link, so you'd put your HTML into this variable, not in <a class="xref" href="ljp.styles.s1.calendar_day.html" title="CALENDAR_DAY">CALENDAR_DAY</a>.  However, in <a class="xref" href="ljp.styles.s1.calendar_day.html" title="CALENDAR_DAY">CALENDAR_DAY</a>, make sure you use %%dayevent%% somewhere.  </span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_day_noevent.html">CALENDAR_DAY_NOEVENT</a></span><span class="refpurpose"> &#8212; Some HTML that gets inserted into <a class="xref" href="ljp.styles.s1.calendar_day.html" title="CALENDAR_DAY">CALENDAR_DAY</a> variables when the number of events (journal entries) for that day is zero.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_empty_days.html">CALENDAR_EMPTY_DAYS</a></span><span class="refpurpose"> &#8212; At the beginning and end of the month, there may be blank squares on the calendar.  For instance, if the 1st of the month lands on a Wednesday, the Sunday-Tuesdays squares are non-existent.  In the construction of a pretty HTML table, it will be necessary to make a TD cell with a COLSPAN equal to the number of empty days.  If you are not making your calendar view look like a calendar, just leave this variable blank.  Note: this variable is used in the %%emptydays_beg%% and %%emptydays_end%% properties of the <a class="xref" href="ljp.styles.s1.calendar_week.html" title="CALENDAR_WEEK">CALENDAR_WEEK</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_head.html">CALENDAR_HEAD</a></span><span class="refpurpose"> &#8212; Any arbitrary HTML you want placed in the &lt;HEAD&gt; of the <a class="link" href="ljp.styles.s1.calendar.html" title="Appendix C. S1 Variable Reference: Calendar view">calendar</a> page.
This is a good place to put CSS or META tags.  If you want to add the
same tags to all your pages, use <a class="xref" href="ljp.styles.s1.global_head.html" title="GLOBAL_HEAD">GLOBAL_HEAD</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_month.html">CALENDAR_MONTH</a></span><span class="refpurpose"> &#8212; The HTML for a month in the <a class="link" href="ljp.styles.s1.calendar.html" title="Appendix C. S1 Variable Reference: Calendar view">calendar</a> view.  A bunch of these variables as well as <a class="xref" href="ljp.styles.s1.calendar_new_year.html" title="CALENDAR_NEW_YEAR">CALENDAR_NEW_YEAR</a> variables form the %%months%% property of the <a class="xref" href="ljp.styles.s1.calendar_page.html" title="CALENDAR_PAGE">CALENDAR_PAGE</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_new_year.html">CALENDAR_NEW_YEAR</a></span><span class="refpurpose"> &#8212; Before any <a class="xref" href="ljp.styles.s1.calendar_month.html" title="CALENDAR_MONTH">CALENDAR_MONTH</a> HTML for a month of a year that hasn't been shown yet, one of these variables gets inserted into %%months%% of <a class="xref" href="ljp.styles.s1.calendar_page.html" title="CALENDAR_PAGE">CALENDAR_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_open_skyscraper_ad.html">CALENDAR_OPEN_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional open wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_page.html">CALENDAR_PAGE</a></span><span class="refpurpose"> &#8212; The HTML page layout for the <a class="link" href="ljp.styles.s1.calendar.html" title="Appendix C. S1 Variable Reference: Calendar view">calendar</a> view.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_skyscraper_ad.html">CALENDAR_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a skyscraper ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_sort_mode.html">CALENDAR_SORT_MODE</a></span><span class="refpurpose"> &#8212; Determines whether months in the calendar mode (variable: <a class="xref" href="ljp.styles.s1.calendar_month.html" title="CALENDAR_MONTH">CALENDAR_MONTH</a>) are shown in "reverse" order (most recent month at top) or in "forward" order (oldest months at top).  The value of this variable should be either "forward" or "reverse", without quotes.  By default, reverse will be assumed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_website.html">CALENDAR_WEBSITE</a></span><span class="refpurpose"> &#8212; When the user has specified their website URL, this variable goes into the %%website%% property of <a class="xref" href="ljp.styles.s1.calendar_page.html" title="CALENDAR_PAGE">CALENDAR_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_week.html">CALENDAR_WEEK</a></span><span class="refpurpose"> &#8212; HTML for a week in the calendar.  4-5 of these week objects get concatenated together into the %%weeks%% property of the <a class="xref" href="ljp.styles.s1.calendar_month.html" title="CALENDAR_MONTH">CALENDAR_MONTH</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_year_displayed.html">CALENDAR_YEAR_DISPLAYED</a></span><span class="refpurpose"> &#8212; Some HTML that goes in the <a class="xref" href="ljp.styles.s1.calendar_year_links.html" title="CALENDAR_YEAR_LINKS">CALENDAR_YEAR_LINKS</a> for the displayed year.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_year_link.html">CALENDAR_YEAR_LINK</a></span><span class="refpurpose"> &#8212; A link to view a different year in the calendar.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.calendar_year_links.html">CALENDAR_YEAR_LINKS</a></span><span class="refpurpose"> &#8212; When there are more than 1 year of entries to be shown, this variable is inserted into the %%yearlinks%% property of <a class="xref" href="ljp.styles.s1.calendar_page.html" title="CALENDAR_PAGE">CALENDAR_PAGE</a>.  Its purpose is to indicate which year is selected and let you move between the different years by clicking links.</span>
</dt>
</dl></dd>
<dt><span class="appendix"><a href="ljp.styles.s1.day.html">D. S1 Variable Reference: Day view</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_5linkunit_ad.html">DAY_5LINKUNIT_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a 5 link unit ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_close_skyscraper_ad.html">DAY_CLOSE_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional close wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_current.html">DAY_CURRENT</a></span><span class="refpurpose"> &#8212; When a user has specified "current" information (like current music or current mood), this variable is added to the %%currents%% property of <a class="xref" href="ljp.styles.s1.day_currents.html" title="DAY_CURRENTS">DAY_CURRENTS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_currents.html">DAY_CURRENTS</a></span><span class="refpurpose"> &#8212; When a user has specified "current" information (like current music or current mood), this variable separates those entries apart from the rest of the journal entry in <a class="xref" href="ljp.styles.s1.day_event.html" title="DAY_EVENT">DAY_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_date_format.html">DAY_DATE_FORMAT</a></span><span class="refpurpose"> &#8212; Describes how dates/times are formatted in each <a class="xref" href="ljp.styles.s1.day_event.html" title="DAY_EVENT">DAY_EVENT</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_event.html">DAY_EVENT</a></span><span class="refpurpose"> &#8212; An event in the journal, which goes in %%events%% of <a class="xref" href="ljp.styles.s1.day_page.html" title="DAY_PAGE">DAY_PAGE</a>.  See also <a class="xref" href="ljp.styles.s1.day_event_private.html" title="DAY_EVENT_PRIVATE">DAY_EVENT_PRIVATE</a> and <a class="xref" href="ljp.styles.s1.day_event_protected.html" title="DAY_EVENT_PROTECTED">DAY_EVENT_PROTECTED</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_events.html">DAY_EVENTS</a></span><span class="refpurpose"> &#8212; When events occur on a given day in the <a class="link" href="ljp.styles.s1.day.html" title="Appendix D. S1 Variable Reference: Day view">day</a> view, this variable gets inserted into %%events%% of <a class="xref" href="ljp.styles.s1.day_page.html" title="DAY_PAGE">DAY_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_event_private.html">DAY_EVENT_PRIVATE</a></span><span class="refpurpose"> &#8212; An optional specialized form of <a class="xref" href="ljp.styles.s1.day_event.html" title="DAY_EVENT">DAY_EVENT</a> to be used on entries that are marked as "private" (only the original poster can see them).  If you leave this blank, the standard event variable will be used instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_event_protected.html">DAY_EVENT_PROTECTED</a></span><span class="refpurpose"> &#8212; An optional specialized form of <a class="xref" href="ljp.styles.s1.day_event.html" title="DAY_EVENT">DAY_EVENT</a> to be used on entries that are marked as "friends" or "custom" (only a select group of people can see them).  If you leave this blank, the standard event variable will be used instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_head.html">DAY_HEAD</a></span><span class="refpurpose"> &#8212; Any arbitrary HTML you want placed in the &lt;HEAD&gt; of the <a class="link" href="ljp.styles.s1.day.html" title="Appendix D. S1 Variable Reference: Day view">day</a> page.
This is a good place to put CSS or META tags.  If you want to add the
same tags to all your pages, use <a class="xref" href="ljp.styles.s1.global_head.html" title="GLOBAL_HEAD">GLOBAL_HEAD</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_noevents.html">DAY_NOEVENTS</a></span><span class="refpurpose"> &#8212; When no events occur on a given day in the <a class="link" href="ljp.styles.s1.day.html" title="Appendix D. S1 Variable Reference: Day view">day</a> view, this variable gets inserted into %%events%% of <a class="xref" href="ljp.styles.s1.day_page.html" title="DAY_PAGE">DAY_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_open_skyscraper_ad.html">DAY_OPEN_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional open wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_page.html">DAY_PAGE</a></span><span class="refpurpose"> &#8212; The HTML for the <a class="link" href="ljp.styles.s1.day.html" title="Appendix D. S1 Variable Reference: Day view">day</a> view, after somebody clicks a day on the <a class="link" href="ljp.styles.s1.calendar.html" title="Appendix C. S1 Variable Reference: Calendar view">calendar</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_skyscraper_ad.html">DAY_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a skyscraper ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_sort_mode.html">DAY_SORT_MODE</a></span><span class="refpurpose"> &#8212; Determines whether events in the <a class="link" href="ljp.styles.s1.day.html" title="Appendix D. S1 Variable Reference: Day view">day</a> view (variable: <a class="xref" href="ljp.styles.s1.day_page.html" title="DAY_PAGE">DAY_PAGE</a>) are shown in "forward" order (earlier events first) or in "reverse" order (newest events shown first).  The value of this variable should be either "forward" or "reverse", without quotes.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_subject.html">DAY_SUBJECT</a></span><span class="refpurpose"> &#8212; When a journal entry has a subject, this variable is inserted into the %%subject%% property of <a class="xref" href="ljp.styles.s1.day_event.html" title="DAY_EVENT">DAY_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_talk_links.html">DAY_TALK_LINKS</a></span><span class="refpurpose"> &#8212; Define here HTML (if any) that you want to be displayed for the links to read comments and post comments on the current event.  The contents of this variable are inserted into %%talklinks%% in <a class="xref" href="ljp.styles.s1.day_event.html" title="DAY_EVENT">DAY_EVENT</a> if the user has commenting enabled.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_talk_readlink.html">DAY_TALK_READLINK</a></span><span class="refpurpose"> &#8212; If there are comments on the existing journal entry being displayed, then one of these variables is inserted into the %%readlink%% property of <a class="xref" href="ljp.styles.s1.day_talk_links.html" title="DAY_TALK_LINKS">DAY_TALK_LINKS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.day_website.html">DAY_WEBSITE</a></span><span class="refpurpose"> &#8212; When the user has specified their website URL, this variable goes into the %%website%% property of <a class="xref" href="ljp.styles.s1.day_page.html" title="DAY_PAGE">DAY_PAGE</a>.</span>
</dt>
</dl></dd>
<dt><span class="appendix"><a href="ljp.styles.s1.friends.html">E. S1 Variable Reference: Friends View</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_5linkunit_ad.html">FRIENDS_5LINKUNIT_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a 5 link unit ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_altposter.html">FRIENDS_ALTPOSTER</a></span><span class="refpurpose"> &#8212; When a user other than the journal owner posts a top-level journal entry in a journal, this variable is inserted into the %%altposter%% property of <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_close_skyscraper_ad.html">FRIENDS_CLOSE_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional close wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_current.html">FRIENDS_CURRENT</a></span><span class="refpurpose"> &#8212; When a user has specified "current" information (like current music or current mood), this variable is added to the %%currents%% property of <a class="xref" href="ljp.styles.s1.friends_currents.html" title="FRIENDS_CURRENTS">FRIENDS_CURRENTS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_currents.html">FRIENDS_CURRENTS</a></span><span class="refpurpose"> &#8212; When a user has specified "current" information (like current music or current mood), this variable separates those entries apart from the rest of the journal entry in <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_date_format.html">FRIENDS_DATE_FORMAT</a></span><span class="refpurpose"> &#8212; Describes how dates/times are formatted in each <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_end_day.html">FRIENDS_END_DAY</a></span><span class="refpurpose"> &#8212; The opposite of <a class="xref" href="ljp.styles.s1.friends_new_day.html" title="FRIENDS_NEW_DAY">FRIENDS_NEW_DAY</a>.  This variable is inserted into %%events%% in the <a class="xref" href="ljp.styles.s1.friends_events.html" title="FRIENDS_EVENTS">FRIENDS_EVENTS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_event.html">FRIENDS_EVENT</a></span><span class="refpurpose"> &#8212; An event from the user's journal.  A bunch of these (as specified by <a class="xref" href="ljp.styles.s1.friends_opt_items.html" title="FRIENDS_OPT_ITEMS">FRIENDS_OPT_ITEMS</a>) get put together to form the %%events%% property of the <a class="xref" href="ljp.styles.s1.friends_events.html" title="FRIENDS_EVENTS">FRIENDS_EVENTS</a> variable.  See also <a class="xref" href="ljp.styles.s1.friends_event_private.html" title="FRIENDS_EVENT_PRIVATE">FRIENDS_EVENT_PRIVATE</a> and <a class="xref" href="ljp.styles.s1.friends_event_protected.html" title="FRIENDS_EVENT_PROTECTED">FRIENDS_EVENT_PROTECTED</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_events.html">FRIENDS_EVENTS</a></span><span class="refpurpose"> &#8212; A container for a bunch of <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a> variables.  Gets inserted into %%events%% of <a class="xref" href="ljp.styles.s1.friends_page.html" title="FRIENDS_PAGE">FRIENDS_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_event_private.html">FRIENDS_EVENT_PRIVATE</a></span><span class="refpurpose"> &#8212; An optional specialized form of <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a> to be used on entries that are marked as "private" (only the original poster can see them).  If you leave this blank, the standard event variable will be used instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_event_protected.html">FRIENDS_EVENT_PROTECTED</a></span><span class="refpurpose"> &#8212; An optional specialized form of <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a> to be used on entries that are marked as "friends" or "custom" (only a select group of people can see them).  If you leave this blank, the standard event variable will be used instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_friendpic.html">FRIENDS_FRIENDPIC</a></span><span class="refpurpose"> &#8212; Creates the IMG tag needed to show your friend's picture on the friends view page.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_head.html">FRIENDS_HEAD</a></span><span class="refpurpose"> &#8212; Any arbitrary HTML you want placed in the &lt;HEAD&gt; of the <a class="link" href="ljp.styles.s1.friends.html" title="Appendix E. S1 Variable Reference: Friends View">friends</a> page.
This is a good place to put CSS or META tags.  If you want to add the
same tags to all your pages, use <a class="xref" href="ljp.styles.s1.global_head.html" title="GLOBAL_HEAD">GLOBAL_HEAD</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_new_day.html">FRIENDS_NEW_DAY</a></span><span class="refpurpose"> &#8212; Before any <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a> that's on a day that no other event has been shown before, this block is inserted into %%events%% in the <a class="xref" href="ljp.styles.s1.friends_events.html" title="FRIENDS_EVENTS">FRIENDS_EVENTS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_nofriends.html">FRIENDS_NOFRIENDS</a></span><span class="refpurpose"> &#8212; This variable is used as %%events%% in <a class="xref" href="ljp.styles.s1.friends_page.html" title="FRIENDS_PAGE">FRIENDS_PAGE</a> if the user has not defined
any friends.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_no_subject.html">FRIENDS_NO_SUBJECT</a></span><span class="refpurpose"> &#8212; When a journal entry does NOT have a subject, this variable is inserted into the %%subject%% property of <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_open_skyscraper_ad.html">FRIENDS_OPEN_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; Conditional open wrapper around ad and/or user content.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_opt_items.html">FRIENDS_OPT_ITEMS</a></span><span class="refpurpose"> &#8212; This is an integer value between 1 and 50 that sets how many
items are shown in the "events" property of the <a class="xref" href="ljp.styles.s1.friends_page.html" title="FRIENDS_PAGE">FRIENDS_PAGE</a> variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_page.html">FRIENDS_PAGE</a></span><span class="refpurpose"> &#8212; The HTML for the friends' most recent journal entries page (friends view) that's sent to the browser.  Customize this as you'd like your page to look.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_range_history.html">FRIENDS_RANGE_HISTORY</a></span><span class="refpurpose"> &#8212; This should be the text that says the user is not viewing the most recent entries, but is instead viewing back into the history.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_range_mostrecent.html">FRIENDS_RANGE_MOSTRECENT</a></span><span class="refpurpose"> &#8212; This should be the text that says the user is viewing the top (most recent) entries, and there are %%numitems%% of them.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_skip_backward.html">FRIENDS_SKIP_BACKWARD</a></span><span class="refpurpose"> &#8212; The HTML to make the link to the next (less recent) page of the friends view... going back in time.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_skip_forward.html">FRIENDS_SKIP_FORWARD</a></span><span class="refpurpose"> &#8212; The HTML to make the link to the previous (more recent) page of the friends view... going forward in time.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_skip_links.html">FRIENDS_SKIP_LINKS</a></span><span class="refpurpose"> &#8212; If the user can go back a page or forward a page, this variable is inserted into the %%skiplinks%% property of <a class="xref" href="ljp.styles.s1.friends_page.html" title="FRIENDS_PAGE">FRIENDS_PAGE</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_skip_spacer.html">FRIENDS_SKIP_SPACER</a></span><span class="refpurpose"> &#8212; The HTML shown if both the skip backward and skip forward elements are displayed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_skyscraper_ad.html">FRIENDS_SKYSCRAPER_AD</a></span><span class="refpurpose"> &#8212; The HTML tag needed to show a skyscraper ad on your journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_subject.html">FRIENDS_SUBJECT</a></span><span class="refpurpose"> &#8212; When a journal entry has a subject, this variable is inserted into the %%subject%% property of <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_talk_links.html">FRIENDS_TALK_LINKS</a></span><span class="refpurpose"> &#8212; Define here HTML (if any) that you want to be displayed for the links to read comments and post comments on the current event.  The contents of this variable are inserted into %%talklinks%% in <a class="xref" href="ljp.styles.s1.friends_event.html" title="FRIENDS_EVENT">FRIENDS_EVENT</a> if the user has commenting enabled.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_talk_readlink.html">FRIENDS_TALK_READLINK</a></span><span class="refpurpose"> &#8212; If there are comments on the existing journal entry being displayed, then one of these variables is inserted into the %%readlink%% property of <a class="xref" href="ljp.styles.s1.friends_talk_links.html" title="FRIENDS_TALK_LINKS">FRIENDS_TALK_LINKS</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.styles.s1.friends_website.html">FRIENDS_WEBSITE</a></span><span class="refpurpose"> &#8212; When the user has specified their website URL, this variable goes into the %%website%% property of <a class="xref" href="ljp.styles.s1.friends_page.html" title="FRIENDS_PAGE">FRIENDS_PAGE</a>.</span>
</dt>
</dl></dd>
</dl></dd>
<dt><span class="part"><a href="ljp.api.html">V. Application Programming Interface</a></span></dt>
<dd><dl>
<dt><span class="reference"><a href="ljp.api.ref.html">III. API Documentation</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cleanhtml.clean.html">LJ::CleanHTML::clean</a></span><span class="refpurpose"> &#8212; Multi-faceted HTML parse function</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmdbuffer.flush.html">LJ::Cmdbuffer::flush</a></span><span class="refpurpose"> &#8212; Flush up to 500 rows of a given command type from the <a class="link" href="ljp.dbschema.cmdbuffer.html" title="cmdbuffer">cmdbuffer</a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmdbuffer.get_property.html">LJ::Cmdbuffer::get_property</a></span><span class="refpurpose"> &#8212; Get a property of an async job type, either built-in or site-specific.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.comment.create.html">LJ::Comment::create</a></span><span class="refpurpose"> &#8212; Create a new comment. Add them to DB.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.comment.new.html">LJ::Comment::new</a></span><span class="refpurpose"> &#8212; Gets a comment given journal_u entry and jtalkid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.db.time_range_to_ids.html">LJ::DB::time_range_to_ids</a></span><span class="refpurpose"> &#8212; Performs a binary search on a table's primary id key looking for time boundaries as specified.  Returns the boundary ids that were found, effectively simulating a key on 'time' for the specified table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.entry.new.html">LJ::Entry::new</a></span><span class="refpurpose"> &#8212; Gets a journal entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.fbupload.do_upload.html">LJ::FBUpload::do_upload</a></span><span class="refpurpose"> &#8212; Uploads an image to FotoBilder from LiveJournal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.has_summary.html">LJ::Faq::has_summary</a></span><span class="refpurpose"> &#8212; Tests whether instance has a summary</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.lang_update_in_place.html">LJ::Faq::lang_update_in_place</a></span><span class="refpurpose"> &#8212; Fill in question, summary and answer from database for one or more FAQs.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.load.html">LJ::Faq::load</a></span><span class="refpurpose"> &#8212; Creates a LJ::Faq object and populates it from the database.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.load_all.html">LJ::Faq::load_all</a></span><span class="refpurpose"> &#8212; Creates LJ::Faq objects from all FAQs in the database.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.load_matching.html">LJ::Faq::load_matching</a></span><span class="refpurpose"> &#8212; Finds all FAQs containing a search term and ranks them by relevance.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.new.html">LJ::Faq::new</a></span><span class="refpurpose"> &#8212; Creates a LJ::Faq object from supplied information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.faq.render_in_place.html">LJ::Faq::render_in_place</a></span><span class="refpurpose"> &#8212; Render one or more FAQs by expanding FAQ-specific mark-up.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.jsutil.autocomplete.html">LJ::JSUtil::autocomplete</a></span><span class="refpurpose"> &#8212; given the name of a form filed and a list of strings, return the JavaScript needed to turn on autocomplete for the given field.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.add_hash.html">LJ::Memories::add_hash</a></span><span class="refpurpose"> &#8212; Add values of one hash, to the corresponding entries in another.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.clear_memcache.html">LJ::Memories::clear_memcache</a></span><span class="refpurpose"> &#8212; Deletes memcached keyword data.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.count.html">LJ::Memories::count</a></span><span class="refpurpose"> &#8212; Returns the number of memories that a user has.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.create.html">LJ::Memories::create</a></span><span class="refpurpose"> &#8212; Create a new memory for a user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.delete_by_id.html">LJ::Memories::delete_by_id</a></span><span class="refpurpose"> &#8212; Deletes a bunch of memories by memid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_by_ditemid.html">LJ::Memories::get_by_ditemid</a></span><span class="refpurpose"> &#8212; Get memory for a given journal entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_by_id.html">LJ::Memories::get_by_id</a></span><span class="refpurpose"> &#8212; Get memories given some memory ids.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_by_keyword.html">LJ::Memories::get_by_keyword</a></span><span class="refpurpose"> &#8212; Get memories given a user and a keyword/keyword id.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_by_user.html">LJ::Memories::get_by_user</a></span><span class="refpurpose"> &#8212; Get memories given a user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_keyword_counts.html">LJ::Memories::get_keyword_counts</a></span><span class="refpurpose"> &#8212; Get a list of keywords and the counts for memories, showing how many memories are under each keyword.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_keywordids.html">LJ::Memories::get_keywordids</a></span><span class="refpurpose"> &#8212; Get all keyword ids a user has used for a certain memory.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.get_keywords.html">LJ::Memories::get_keywords</a></span><span class="refpurpose"> &#8212; Retrieves keyword/keyids without big joins, returns a hashref.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.update_memory.html">LJ::Memories::update_memory</a></span><span class="refpurpose"> &#8212; Updates the description and security of a memory.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memories.updated_keywords.html">LJ::Memories::updated_keywords</a></span><span class="refpurpose"> &#8212; Deletes memcached keyword data.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.parsefeed.parse_feed.html">LJ::ParseFeed::parse_feed</a></span><span class="refpurpose"> &#8212; Parses an RSS/Atom feed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.s1.get_themeid.html">LJ::S1::get_themeid</a></span><span class="refpurpose"> &#8212; Loads or returns cached version of given color theme data.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.s1w2.date_s2_to_s1.html">LJ::S1w2::date_s2_to_s1</a></span><span class="refpurpose"> &#8212; Convert an S2 Date or DateTime object into an S1 date hash.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.s1w2.prepare_currents.html">LJ::S1w2::prepare_currents</a></span><span class="refpurpose"> &#8212; do all the current music/mood/weather/whatever stuff.  only used by ljviews.pl.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.s2.get_tags_text.html">LJ::S2::get_tags_text</a></span><span class="refpurpose"> &#8212; Gets text for display in entry for tags compatibility.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.add_pending_school.html">LJ::Schools::add_pending_school</a></span><span class="refpurpose"> &#8212; Adds a school from a user to the pending list of schools.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.approve_pending.html">LJ::Schools::approve_pending</a></span><span class="refpurpose"> &#8212; Takes a bunch of pending rows and approves them as a new target school.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.canonical_city_name.html">LJ::Schools::canonical_city_name</a></span><span class="refpurpose"> &#8212; Canonicalizes a cities name to a standard format.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.canonical_school_name.html">LJ::Schools::canonical_school_name</a></span><span class="refpurpose"> &#8212; Canonicalizes a school name to a standard format.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.delete_attended.html">LJ::Schools::delete_attended</a></span><span class="refpurpose"> &#8212; Removes an attended edge from a user/school.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.delete_school.html">LJ::Schools::delete_school</a></span><span class="refpurpose"> &#8212; Deletes an approved school</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.determine_location_opts.html">LJ::Schools::determine_location_opts</a></span><span class="refpurpose"> &#8212; Internal; used to perform the logic to determine the location codes to use for a record based on the inputs.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.edit_school.html">LJ::Schools::edit_school</a></span><span class="refpurpose"> &#8212; Edits the information for a school.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.expand_codes.html">LJ::Schools::expand_codes</a></span><span class="refpurpose"> &#8212; Expands country, state, and city codes into actual names.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.find_existing.html">LJ::Schools::find_existing</a></span><span class="refpurpose"> &#8212; Finds an existing school by given criteria.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_attended.html">LJ::Schools::get_attended</a></span><span class="refpurpose"> &#8212; Gets a list of schools a user has attended.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_attendees.html">LJ::Schools::get_attendees</a></span><span class="refpurpose"> &#8212; Gets a list of users that attended a school.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_cities.html">LJ::Schools::get_cities</a></span><span class="refpurpose"> &#8212; Gets information about what cities have been populated with schools.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_countries.html">LJ::Schools::get_countries</a></span><span class="refpurpose"> &#8212; Get a list of countries that we have schools in.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_pending.html">LJ::Schools::get_pending</a></span><span class="refpurpose"> &#8212; Returns the next "potentially good" set of records to be processed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_schools.html">LJ::Schools::get_schools</a></span><span class="refpurpose"> &#8212; Gets schools defined in a given area.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.get_states.html">LJ::Schools::get_states</a></span><span class="refpurpose"> &#8212; Gets information about what states have been populated with schools.  States and provinces are considered the same thing.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.load_schools.html">LJ::Schools::load_schools</a></span><span class="refpurpose"> &#8212; Returns detailed information about schools.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.merge_schools.html">LJ::Schools::merge_schools</a></span><span class="refpurpose"> &#8212; Merges schools into one record.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.reject_pending.html">LJ::Schools::reject_pending</a></span><span class="refpurpose"> &#8212; Deletes pending schools.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.rename_city.html">LJ::Schools::rename_city</a></span><span class="refpurpose"> &#8212; Renames a city within a country and state.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.rename_state.html">LJ::Schools::rename_state</a></span><span class="refpurpose"> &#8212; Renames a state within a country.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.schools.set_attended.html">LJ::Schools::set_attended</a></span><span class="refpurpose"> &#8212; Lists a school as being attended by a user or updates an existing edge.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.stats.comma_formatter.html">LJ::Support::Stats::comma_formatter</a></span><span class="refpurpose"> &#8212; Format a number with commas</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.stats.date_formatter.html">LJ::Support::Stats::date_formatter</a></span><span class="refpurpose"> &#8212; Format a date</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.stats.filter_support_by_category.html">LJ::Support::Stats::filter_support_by_category</a></span><span class="refpurpose"> &#8212; Filter Support by Category ID.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.stats.get_grains_from_seconds.html">LJ::Support::Stats::get_grains_from_seconds</a></span><span class="refpurpose"> &#8212; Determine the grains (day/week/month/year) of given a date</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.stats.percent_formatter.html">LJ::Support::Stats::percent_formatter</a></span><span class="refpurpose"> &#8212; Format a percentage: Take integer portion and append percent sign.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.get_support_by_daterange.html">LJ::Support::get_support_by_daterange</a></span><span class="refpurpose"> &#8212; Get all the <a class="link" href="ljp.dbschema.support.html" title="support">support</a> rows based on a date range.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.get_support_by_ids.html">LJ::Support::get_support_by_ids</a></span><span class="refpurpose"> &#8212; Get all the <a class="link" href="ljp.dbschema.support.html" title="support">support</a> rows based on a list of Support IDs</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.get_supportlogs.html">LJ::Support::get_supportlogs</a></span><span class="refpurpose"> &#8212; Get all the <a class="link" href="ljp.dbschema.supportlog.html" title="supportlog">supportlog</a> rows for a list of Support IDs.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.get_touch_supportlogs_by_user_and_date.html">LJ::Support::get_touch_supportlogs_by_user_and_date</a></span><span class="refpurpose"> &#8212; Get all touch (non-req) supportlogs based on User ID and Date Range.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.support.slow_query_dbh.html">LJ::Support::slow_query_dbh</a></span><span class="refpurpose"> &#8212; Retrieve a database handle to be used for support-related slow queries... defaults to 'slow' role but can be overriden by <a class="xref" href="lj.install.ljconfig.vars.html#ljconfig.support_slow_roles"><code class="varname">@LJ::SUPPORT_SLOW_ROLES</code></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.can_add_tags.html">LJ::Tags::can_add_tags</a></span><span class="refpurpose"> &#8212; Determines if one account is allowed to add tags to another's entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.can_control_tags.html">LJ::Tags::can_control_tags</a></span><span class="refpurpose"> &#8212; Determines if one account is allowed to control (add, edit, delete) the tags of another.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.create_usertag.html">LJ::Tags::create_usertag</a></span><span class="refpurpose"> &#8212; Creates tags for a user, returning the keyword ids allocated.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.delete_logtags.html">LJ::Tags::delete_logtags</a></span><span class="refpurpose"> &#8212; Deletes all tags on an entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.delete_usertag.html">LJ::Tags::delete_usertag</a></span><span class="refpurpose"> &#8212; Deletes a tag for a user, and all mappings.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.deleted_friend_group.html">LJ::Tags::deleted_friend_group</a></span><span class="refpurpose"> &#8212; Called from ljprotocol when a friends group is deleted.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.get_entry_tags.html">LJ::Tags::get_entry_tags</a></span><span class="refpurpose"> &#8212; Gets tags that have been used on an entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.get_logtagsmulti.html">LJ::Tags::get_logtagsmulti</a></span><span class="refpurpose"> &#8212; Load tags on a given set of entries</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.get_permission_levels.html">LJ::Tags::get_permission_levels</a></span><span class="refpurpose"> &#8212; Gets the permission levels on an account.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.get_security_breakdown.html">LJ::Tags::get_security_breakdown</a></span><span class="refpurpose"> &#8212; Returns a list of security levels that apply to the given security information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.get_usertags.html">LJ::Tags::get_usertags</a></span><span class="refpurpose"> &#8212; Returns the tags that a user has defined for their account.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.get_usertagsmulti.html">LJ::Tags::get_usertagsmulti</a></span><span class="refpurpose"> &#8212; Gets a bunch of tags for the specified list of users.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.is_valid_tagstring.html">LJ::Tags::is_valid_tagstring</a></span><span class="refpurpose"> &#8212; Determines if a string contains a valid list of tags.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.rename_usertag.html">LJ::Tags::rename_usertag</a></span><span class="refpurpose"> &#8212; Deletes a tag for a user, and all mappings.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.reset_cache.html">LJ::Tags::reset_cache</a></span><span class="refpurpose"> &#8212; Clears out all cached information for a user's tags.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.set_usertag_display.html">LJ::Tags::set_usertag_display</a></span><span class="refpurpose"> &#8212; Set the display bool for a tag.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.update_logtags.html">LJ::Tags::update_logtags</a></span><span class="refpurpose"> &#8212; Updates the tags on an entry.  Tags not in the list you provide are deleted.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.tags.validate_tag.html">LJ::Tags::validate_tag</a></span><span class="refpurpose"> &#8212; Check the validity of a single tag.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.can_delete.html">LJ::Talk::can_delete</a></span><span class="refpurpose"> &#8212; Determines if a user can delete a comment or entry: You can delete anything you've posted.  You can delete anything posted in something you own (i.e. a comment in your journal, a comment to an entry you made in a community).  You can also delete any item in an account you have the "A"dministration edge for.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.delete_comment.html">LJ::Talk::delete_comment</a></span><span class="refpurpose"> &#8212; Deletes a single comment.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.delete_thread.html">LJ::Talk::delete_thread</a></span><span class="refpurpose"> &#8212; Deletes an entire thread of comments.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.freeze_comments.html">LJ::Talk::freeze_comments</a></span><span class="refpurpose"> &#8212; Freezes comments.  This is the internal helper function called by freeze_thread/unfreeze_thread.  Use those if you wish to freeze or unfreeze a thread.  This function just freezes specific comments.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.freeze_thread.html">LJ::Talk::freeze_thread</a></span><span class="refpurpose"> &#8212; Freezes an entire thread of comments.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.get_comments_in_thread.html">LJ::Talk::get_comments_in_thread</a></span><span class="refpurpose"> &#8212; Gets a list of comment ids that are contained within a thread, including the comment at the top of the thread.  You can also limit this to only return comments of a certain state.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.get_talk2_row.html">LJ::Talk::get_talk2_row</a></span><span class="refpurpose"> &#8212; Gets a row of data from <a class="link" href="ljp.dbschema.talk2.html" title="talk2">talk2</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.get_talk2_row_multi.html">LJ::Talk::get_talk2_row_multi</a></span><span class="refpurpose"> &#8212; Gets multiple rows of data from <a class="link" href="ljp.dbschema.talk2.html" title="talk2">talk2</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.screening_level.html">LJ::Talk::screening_level</a></span><span class="refpurpose"> &#8212; Determines the screening level of a particular post given the relevant information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.talk.unfreeze_thread.html">LJ::Talk::unfreeze_thread</a></span><span class="refpurpose"> &#8212; unfreezes an entire thread of comments.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user.activate_userpics.html">LJ::User::activate_userpics</a></span><span class="refpurpose"> &#8212; Sets/unsets userpics as inactive based on account caps.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user.caps_icon.html">LJ::User::caps_icon</a></span><span class="refpurpose"> &#8212; get the icon for a user's cap.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user.dudata_set.html">LJ::User::dudata_set</a></span><span class="refpurpose"> &#8212; Record or delete disk usage data for a journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user.get_friends_birthdays.html">LJ::User::get_friends_birthdays</a></span><span class="refpurpose"> &#8212; get the upcoming birthdays for friends of a user. shows birthdays 3 months away by default pass in full =&gt; 1 to get all friends' birthdays.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user.large_journal_icon.html">LJ::User::large_journal_icon</a></span><span class="refpurpose"> &#8212; get the large icon by journal type.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user.mogfs_userpic_key.html">LJ::User::mogfs_userpic_key</a></span><span class="refpurpose"> &#8212; Make a mogilefs key for the given pic for the user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj._friends_do.html">LJ::_friends_do</a></span><span class="refpurpose"> &#8212; Runs given SQL, then deletes the given userid's friends from memcache.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj._get_rel_memcache.html">LJ::_get_rel_memcache</a></span><span class="refpurpose"> &#8212; Helper function: returns memcached value for a given (userid, targetid, type) triple, if valid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj._mod_rel_multi.html">LJ::_mod_rel_multi</a></span><span class="refpurpose"> &#8212; Sets/Clears relationship edges for lists of user tuples.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj._set_rel_memcache.html">LJ::_set_rel_memcache</a></span><span class="refpurpose"> &#8212; Helper function: sets memcache values for a given (userid, targetid, type) triple</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.accept_comm_invite.html">LJ::accept_comm_invite</a></span><span class="refpurpose"> &#8212; Accepts an invitation a user has received.  This does all the work to make the user join the community as well as sets up privileges.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.acct_code_check.html">LJ::acct_code_check</a></span><span class="refpurpose"> &#8212; Checks the validity of a given account code</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.acct_code_decode.html">LJ::acct_code_decode</a></span><span class="refpurpose"> &#8212; Breaks an account code down into its two parts</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.acct_code_encode.html">LJ::acct_code_encode</a></span><span class="refpurpose"> &#8212; Given an account ID integer and a 5 digit auth code, returns a 12 digit account code.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.acct_code_generate.html">LJ::acct_code_generate</a></span><span class="refpurpose"> &#8212; Creates invitation code(s) from an optional userid for use by anybody.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.acid_decode.html">LJ::acid_decode</a></span><span class="refpurpose"> &#8212; Given an acid encoding from <a class="link" href="ljp.api.lj.acid_encode.html" title="LJ::acid_encode">LJ::acid_encode</a>, returns the original decimal number.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.acid_encode.html">LJ::acid_encode</a></span><span class="refpurpose"> &#8212; Given a decimal number, returns base 30 encoding using an alphabet of letters &amp; numbers that are not easily mistaken for each other.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.activate_userpics.html">LJ::activate_userpics</a></span><span class="refpurpose"> &#8212; Wrapper around LJ::User-&gt;activate_userpics for compatibility.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.add_friend.html">LJ::add_friend</a></span><span class="refpurpose"> &#8212; Simple interface to add a friend edge.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.ago_text.html">LJ::ago_text</a></span><span class="refpurpose"> &#8212; Converts integer seconds to English time span</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.alldatepart_s1.html">LJ::alldatepart_s1</a></span><span class="refpurpose"> &#8212; Gets date in MySQL format, produces s1dateformat.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.alldatepart_s2.html">LJ::alldatepart_s2</a></span><span class="refpurpose"> &#8212; Gets date in MySQL format, produces s2dateformat.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.alldateparts_to_hash.html">LJ::alldateparts_to_hash</a></span><span class="refpurpose"> &#8212; Given a date/time format from MySQL, breaks it into a hash.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.approve_pending_member.html">LJ::approve_pending_member</a></span><span class="refpurpose"> &#8212; Approves someone's request to join a community.  This updates the <a class="link" href="ljp.dbschema.authactions.html" title="authactions">authactions</a> table as appropriate as well as does the regular join logic.  This also generates an e-mail to be sent to the user notifying them of the acceptance.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.are_hooks.html">LJ::are_hooks</a></span><span class="refpurpose"> &#8212; Returns true if the site has one or more hooks installed for the given hookname.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.auth_okay.html">LJ::auth_okay</a></span><span class="refpurpose"> &#8212; Validates a user's password.  The "clear" or "md5" argument must be present, and either the "actual" argument (the correct password) must be set, or the first argument must be a user object ($u) with the 'password' key set.  This is the preferred way to validate a password (as opposed to doing it by hand), since <span class="strong"><strong>this</strong></span> function will use a pluggable authenticator, if one is defined, so LiveJournal installations can be based off an LDAP server, for example.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.auto_linkify.html">LJ::auto_linkify</a></span><span class="refpurpose"> &#8212; Takes a plain-text string and changes URLs into &lt;a href&gt; tags (auto-linkification).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.bad_input.html">LJ::bad_input</a></span><span class="refpurpose"> &#8212; Returns common BML for reporting form validation errors in a bulleted list.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.bit_breakdown.html">LJ::bit_breakdown</a></span><span class="refpurpose"> &#8212; Breaks down a bitmask into an array of bits enabled.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.blocking_report.html">LJ::blocking_report</a></span><span class="refpurpose"> &#8212; Log a report on the total amount of time used in a slow operation to a remote host via UDP.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.can_manage.html">LJ::can_manage</a></span><span class="refpurpose"> &#8212; Given a user and a target user, will determine if the first user is an admin for the target user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.can_manage_other.html">LJ::can_manage_other</a></span><span class="refpurpose"> &#8212; Given a user and a target user, will determine if the first user is an admin for the target user, but not if the two are the same.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.can_use_journal.html">LJ::can_use_journal</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.can_view.html">LJ::can_view</a></span><span class="refpurpose"> &#8212; Checks to see if the remote user can view a given journal entry. <span class="strong"><strong>Note:</strong></span> This is meant for use on single entries at a time, not for calling many times on every entry in a journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.canonical_username.html">LJ::canonical_username</a></span><span class="refpurpose"> &#8212; normalizes username.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.check_email.html">LJ::check_email</a></span><span class="refpurpose"> &#8212; checks for and rejects bogus e-mail addresses.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.check_form_auth.html">LJ::check_form_auth</a></span><span class="refpurpose"> &#8212; Verifies form authentication created with <a class="link" href="ljp.api.lj.form_auth.html" title="LJ::form_auth">LJ::form_auth</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.check_priv.html">LJ::check_priv</a></span><span class="refpurpose"> &#8212; Check to see if a user has a certain privilege.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.check_referer.html">LJ::check_referer</a></span><span class="refpurpose"> &#8212; Checks if the user is coming from a given URI.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.check_rel.html">LJ::check_rel</a></span><span class="refpurpose"> &#8212; Checks whether two users are in a specified relationship to each other.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.clear_caches.html">LJ::clear_caches</a></span><span class="refpurpose"> &#8212; This function is called from a HUP signal handler and is intentionally very very simple (1 line) so we don't core dump on a system without reentrant libraries.  It just sets a flag to clear the caches at the beginning of the next request (see <a class="link" href="ljp.api.lj.handle_caches.html" title="LJ::handle_caches">LJ::handle_caches</a>). There should be no need to ever call this function directly.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.clear_hooks.html">LJ::clear_hooks</a></span><span class="refpurpose"> &#8212; Removes all hooks.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.clear_rel.html">LJ::clear_rel</a></span><span class="refpurpose"> &#8212; Deletes a relationship between two users or all relationships of a particular type for one user, on either side of the relationship.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.clear_rel_multi.html">LJ::clear_rel_multi</a></span><span class="refpurpose"> &#8212; Clear relationship edges for lists of user tuples.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmd_buffer_add.html">LJ::cmd_buffer_add</a></span><span class="refpurpose"> &#8212; Schedules some command to be run sometime in the future which would be too slow to do synchronously with the web request.  An example is deleting a journal entry, which requires recursing through a lot of tables and deleting all the appropriate stuff.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.display_current_summary.html">LJ::cmize::display_current_summary</a></span><span class="refpurpose"> &#8212; HTML helper function: Returns a block of HTML that summarizes the user's current display options.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.get_moodtheme_select_list.html">LJ::cmize::get_moodtheme_select_list</a></span><span class="refpurpose"> &#8212; Spoof checking for mood theme ids</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.get_style_thumbnails.html">LJ::cmize::get_style_thumbnails</a></span><span class="refpurpose"> &#8212; Get style thumbnail information from per-process caches, or load if not available.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.html_save.html">LJ::cmize::html_save</a></span><span class="refpurpose"> &#8212; HTML helper function: Common HTML for the "save changes" button in a tab.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.html_tablinks.html">LJ::cmize::html_tablinks</a></span><span class="refpurpose"> &#8212; HTML helper function: Common HTML for links on top of tabs.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.js_redirect.html">LJ::cmize::js_redirect</a></span><span class="refpurpose"> &#8212; Function to determine the correct redirect when clicking on a tab link.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.s1_get_customcolors.html">LJ::cmize::s1_get_customcolors</a></span><span class="refpurpose"> &#8212; Gets style list (S1).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.s1_get_style_list.html">LJ::cmize::s1_get_style_list</a></span><span class="refpurpose"> &#8212; Gets style list (S1).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.s1_get_theme_list.html">LJ::cmize::s1_get_theme_list</a></span><span class="refpurpose"> &#8212; Gets style list (S1).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.s2_custom_layer_list.html">LJ::cmize::s2_custom_layer_list</a></span><span class="refpurpose"> &#8212; custom layers will be shown in the "Custom Layers" and "Disabled Layers" groups depending on the user's account status.  if they don't have the s2styles cap, then they will have all layers disabled, except for the one they are currently using.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.s2_get_lang.html">LJ::cmize::s2_get_lang</a></span><span class="refpurpose"> &#8212; Gets the lang code for the user's style</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.s2_implicit_style_create.html">LJ::cmize::s2_implicit_style_create</a></span><span class="refpurpose"> &#8212; Common "create s2 style" skeleton.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.cmize.validate_moodthemeid.html">LJ::cmize::validate_moodthemeid</a></span><span class="refpurpose"> &#8212; Spoof checking for mood theme ids</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.color_fromdb.html">LJ::color_fromdb</a></span><span class="refpurpose"> &#8212; Takes a value of unknown type from the DB and returns an #rrggbb string.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.color_todb.html">LJ::color_todb</a></span><span class="refpurpose"> &#8212; Takes an #rrggbb value and returns a 24-bit decimal number.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.comm_join_request.html">LJ::comm_join_request</a></span><span class="refpurpose"> &#8212; Registers an authaction to add a user to a community and sends an approval email to the maintainers</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.create_account.html">LJ::create_account</a></span><span class="refpurpose"> &#8212; Creates a new basic account.  <span class="strong"><strong>Note:</strong></span> This function is not really too useful but should be extended to be useful so htdocs/create.bml can use it, rather than doing the work itself.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.create_qr_div.html">LJ::create_qr_div</a></span><span class="refpurpose"> &#8212; Creates the hidden div that stores the QuickReply form.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.date_to_view_links.html">LJ::date_to_view_links</a></span><span class="refpurpose"> &#8212; Returns HTML of date with links to user's journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.days_in_month.html">LJ::days_in_month</a></span><span class="refpurpose"> &#8212; Figures out the number of days in a month.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.decode_url_string.html">LJ::decode_url_string</a></span><span class="refpurpose"> &#8212; Parse URL-style arg/value pairs into a hash.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.delete_all_comments.html">LJ::delete_all_comments</a></span><span class="refpurpose"> &#8212; deletes all comments from a post, permanently, for when a post is deleted</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.delete_comments.html">LJ::delete_comments</a></span><span class="refpurpose"> &#8212; deletes comments, but not the relational information, so threading doesn't break</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.delete_entry.html">LJ::delete_entry</a></span><span class="refpurpose"> &#8212; Deletes a user's journal entry</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.did_post.html">LJ::did_post</a></span><span class="refpurpose"> &#8212; Cookies should only show pages which make no action. When an action is being made, check the request coming from the remote user is a POST request.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.disconnect_dbs.html">LJ::disconnect_dbs</a></span><span class="refpurpose"> &#8212; Clear cached DB handles</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.do_to_cluster.html">LJ::do_to_cluster</a></span><span class="refpurpose"> &#8212; Given a subref, this function will pick a random cluster and run the subref, passing it the cluster id.  If the subref returns a 1, this function will exit with a 1.  Else, the function will call the subref again, with the next cluster.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.durl.html">LJ::durl</a></span><span class="refpurpose"> &#8212; Decodes a value that's URL-escaped.  See also <a class="link" href="ljp.api.lj.eurl.html" title="LJ::eurl">LJ::eurl</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.ehtml.html">LJ::ehtml</a></span><span class="refpurpose"> &#8212; Escapes a value before it can be put in HTML.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.ejs.html">LJ::ejs</a></span><span class="refpurpose"> &#8212; Escapes a string value before it can be put in JavaScript.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.end_request.html">LJ::end_request</a></span><span class="refpurpose"> &#8212; Clears cached DB handles (if <a class="xref" href="lj.install.ljconfig.vars.html#ljconfig.disconnect_dbs"><code class="varname">$LJ::DISCONNECT_DBS</code></a> is true), and disconnects memcached handles (if <a class="xref" href="lj.install.ljconfig.vars.html#ljconfig.disconnect_memcache"><code class="varname">$LJ::DISCONNECT_MEMCACHE</code></a> is true).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.entry_form.html">LJ::entry_form</a></span><span class="refpurpose"> &#8212; Returns a properly formatted form for creating/editing entries.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.entry_form_decode.html">LJ::entry_form_decode</a></span><span class="refpurpose"> &#8212; Decodes an entry_form into a protocol-compatible hash.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.error_list.html">LJ::error_list</a></span><span class="refpurpose"> &#8212; Returns an error bar with bulleted list of errors.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.error_noremote.html">LJ::error_noremote</a></span><span class="refpurpose"> &#8212; Returns an error telling the user to log in.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.etags.html">LJ::etags</a></span><span class="refpurpose"> &#8212; Escapes &lt; and &gt; from a string</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.eurl.html">LJ::eurl</a></span><span class="refpurpose"> &#8212; Escapes a value before it can be put in a URL.  See also <a class="link" href="ljp.api.lj.durl.html" title="LJ::durl">LJ::durl</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.event_register.html">LJ::event_register</a></span><span class="refpurpose"> &#8212; Logs a subscribable event, if anybody is subscribed to it.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.exml.html">LJ::exml</a></span><span class="refpurpose"> &#8212; Escapes a value before it can be put in XML.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.expand_embedded.html">LJ::expand_embedded</a></span><span class="refpurpose"> &#8212; Used for expanding embedded content like polls, for entries.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.expunge_userpic.html">LJ::expunge_userpic</a></span><span class="refpurpose"> &#8212; Expunges a userpic so that the system will no longer deliver this userpic.  If your site has off-site caching or something similar, you can also define a hook "expunge_userpic" which will be called with a picid and userid when a pic is expunged.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.fill_groups_xmlrpc.html">LJ::fill_groups_xmlrpc</a></span><span class="refpurpose"> &#8212; Fills a hashref (presumably to be sent to an XML-RPC client, e.g. FotoBilder) with user friend group information</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.fill_var_props.html">LJ::fill_var_props</a></span><span class="refpurpose"> &#8212; S1 utility function to interpolate %%variables%% in a variable.  If a modifier is given like %%foo:var%%, then <a class="link" href="ljp.api.lj.fvp_transform.html" title="LJ::fvp_transform">LJ::fvp_transform</a> is called.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.flush_cleanup_handlers.html">LJ::flush_cleanup_handlers</a></span><span class="refpurpose"> &#8212; Runs all cleanup handlers registered in @LJ::CLEANUP_HANDLERS</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.form_auth.html">LJ::form_auth</a></span><span class="refpurpose"> &#8212; Creates an authentication token to be used later to verify that a form submission came from a particular user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.fvp_transform.html">LJ::fvp_transform</a></span><span class="refpurpose"> &#8212; Called from <a class="link" href="ljp.api.lj.fill_var_props.html" title="LJ::fill_var_props">LJ::fill_var_props</a> to do transformations.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_authas_list.html">LJ::get_authas_list</a></span><span class="refpurpose"> &#8212; Get a list of usernames a given user can authenticate as.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_authas_user.html">LJ::get_authas_user</a></span><span class="refpurpose"> &#8212; Given a username, will return a user object if remote is an admin for the username.  Otherwise returns undef.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_bio.html">LJ::get_bio</a></span><span class="refpurpose"> &#8212; gets a user bio, from DB or memcache.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_cap.html">LJ::get_cap</a></span><span class="refpurpose"> &#8212; Given a user object, capability class key or capability class bit mask and a capability/limit name, returns the maximum value allowed for given user or class, considering all the limits in each class the user is a part of.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_cap_min.html">LJ::get_cap_min</a></span><span class="refpurpose"> &#8212; Just like <a class="link" href="ljp.api.lj.get_cap.html" title="LJ::get_cap">LJ::get_cap</a>, but returns the minimum value. Although it might not make sense at first, some things are better when they're low, like the minimum amount of time a user might have to wait between getting updates or being allowed to refresh a page.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_cluster_def_reader.html">LJ::get_cluster_def_reader</a></span><span class="refpurpose"> &#8212; Returns a definitive cluster reader for a given user, used when the caller wants the master handle, but will only use it to read.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_cluster_description.html">LJ::get_cluster_description</a></span><span class="refpurpose"> &#8212; Get descriptive text for a cluster id.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_cluster_master.html">LJ::get_cluster_master</a></span><span class="refpurpose"> &#8212; Returns a cluster master for a given user, used when the caller might use it to do a write (insert/delete/update/etc...)</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_cluster_reader.html">LJ::get_cluster_reader</a></span><span class="refpurpose"> &#8212; Returns a cluster slave for a user, or cluster master if no slaves exist.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_community_row.html">LJ::get_community_row</a></span><span class="refpurpose"> &#8212; Gets data relevant to a community such as their membership level and posting access.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_dbh.html">LJ::get_dbh</a></span><span class="refpurpose"> &#8212; Given one or more roles, returns a database handle.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_dbirole_dbh.html">LJ::get_dbirole_dbh</a></span><span class="refpurpose"> &#8212; Internal function for get_dbh(). Uses the DBIRole to fetch a dbh, with hooks into db stats-generation if that's turned on.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_friend_group.html">LJ::get_friend_group</a></span><span class="refpurpose"> &#8212; Returns friendgroup row(s) for a given user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_friend_items.html">LJ::get_friend_items</a></span><span class="refpurpose"> &#8212; Return friend items for a given user, filter, and period.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_friendofs.html">LJ::get_friendofs</a></span><span class="refpurpose"> &#8212; Returns userids of friendofs for a given user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_friends.html">LJ::get_friends</a></span><span class="refpurpose"> &#8212; Returns friends rows for a given user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_keyword_id.html">LJ::get_keyword_id</a></span><span class="refpurpose"> &#8212; Get the id for a keyword.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_lastcomment.html">LJ::get_lastcomment</a></span><span class="refpurpose"> &#8212; Looks up the last talkid and journal the remote user posted in.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_lock.html">LJ::get_lock</a></span><span class="refpurpose"> &#8212; get a MySQL lock on a given key/dbrole combination.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_logtext2.html">LJ::get_logtext2</a></span><span class="refpurpose"> &#8212; Efficiently retrieves a large number of journal entry text, trying first slave database servers for recent items, then the master in cases of old items the slaves have already disposed of.  See also: <a class="link" href="ljp.api.lj.get_talktext2.html" title="LJ::get_talktext2">LJ::get_talktext2</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_logtext2multi.html">LJ::get_logtext2multi</a></span><span class="refpurpose"> &#8212; Gets log text from clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_mood_picture.html">LJ::get_mood_picture</a></span><span class="refpurpose"> &#8212; Loads a mood icon hashref given a themeid and moodid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_newids.html">LJ::get_newids</a></span><span class="refpurpose"> &#8212; Lookup an old global ID and see what journal it belongs to and its new ID.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_pending_invites.html">LJ::get_pending_invites</a></span><span class="refpurpose"> &#8212; Gets a list of pending invitations for a user to join a community.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_pending_members.html">LJ::get_pending_members</a></span><span class="refpurpose"> &#8212; Gets a list of userids for people that have requested to be added to a community but have not yet actually been approved or rejected.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_pic_from_keyword.html">LJ::get_pic_from_keyword</a></span><span class="refpurpose"> &#8212; Given a userid and keyword, returns the pic row hashref.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_post_ids.html">LJ::get_post_ids</a></span><span class="refpurpose"> &#8212; Given a user object and some options, return the number of posts or the posts'' IDs (jitemids) that match.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_posts_raw.html">LJ::get_posts_raw</a></span><span class="refpurpose"> &#8212; Gets raw post data (text and props) efficiently from clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_postto_list.html">LJ::get_postto_list</a></span><span class="refpurpose"> &#8212; Get the list of usernames a given user can post to.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_prop.html">LJ::get_prop</a></span><span class="refpurpose"> &#8212; This is used to retrieve a hashref of a row from the given tablename's proplist table. One difference from getting it straight from the database is that the 'id' key is always present, as a copy of the real proplist unique id for that table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_recent_items.html">LJ::get_recent_items</a></span><span class="refpurpose"> &#8212; Returns journal entries for a given account.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_recommended_communities.html">LJ::get_recommended_communities</a></span><span class="refpurpose"> &#8212; Get communities associated with a user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_reluser_id.html">LJ::get_reluser_id</a></span><span class="refpurpose"> &#8212; for <a class="link" href="ljp.dbschema.reluser2.html" title="reluser2">reluser2</a>, numbers 1 - 31999 are reserved for livejournal stuff, whereas numbers 32000-65535 are used for local sites.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_remote.html">LJ::get_remote</a></span><span class="refpurpose"> &#8212; authenticates the user at the remote end based on their cookies and returns a hashref representing them.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_sent_invites.html">LJ::get_sent_invites</a></span><span class="refpurpose"> &#8212; Get a list of sent invitations from the past 30 days.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_shared_journals.html">LJ::get_shared_journals</a></span><span class="refpurpose"> &#8212; Gets an array of shared journals a user has access to.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_talktext2.html">LJ::get_talktext2</a></span><span class="refpurpose"> &#8212; Retrieves comment text. Tries slave servers first, then master.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_timeupdate_multi.html">LJ::get_timeupdate_multi</a></span><span class="refpurpose"> &#8212; Get the last time a list of users updated.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_timezone.html">LJ::get_timezone</a></span><span class="refpurpose"> &#8212; Gets the timezone offset for the user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_urls.html">LJ::get_urls</a></span><span class="refpurpose"> &#8212; Returns a list of all referenced URLs from a string.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_userid.html">LJ::get_userid</a></span><span class="refpurpose"> &#8212; Returns a userid given a username.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_username.html">LJ::get_username</a></span><span class="refpurpose"> &#8212; Returns a username given a userid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.get_userpic_info.html">LJ::get_userpic_info</a></span><span class="refpurpose"> &#8212; Given a user, gets their userpic information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.handle_caches.html">LJ::handle_caches</a></span><span class="refpurpose"> &#8212; clears caches if the CLEAR_CACHES flag is set from an earlier HUP signal that called <a class="link" href="ljp.api.lj.clear_caches.html" title="LJ::clear_caches">LJ::clear_caches</a>, otherwise does nothing.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.help_icon.html">LJ::help_icon</a></span><span class="refpurpose"> &#8212; Returns BML to show a help link/icon given a help topic, or nothing if the site hasn't defined a URL for that topic.  Optional arguments include HTML/BML to place before and after the link/icon, should it be returned.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_check.html">LJ::html_check</a></span><span class="refpurpose"> &#8212; Creates HTML checkbox button, and radio button controls.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_color.html">LJ::html_color</a></span><span class="refpurpose"> &#8212; A text field with attached color preview and button to choose a color.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_datetime.html">LJ::html_datetime</a></span><span class="refpurpose"> &#8212; Creates date and time control HTML form elements.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_datetime_decode.html">LJ::html_datetime_decode</a></span><span class="refpurpose"> &#8212; Parses output of HTML form controls generated by <a class="link" href="ljp.api.lj.html_datetime.html" title="LJ::html_datetime">LJ::html_datetime</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_hidden.html">LJ::html_hidden</a></span><span class="refpurpose"> &#8212; Makes the HTML for a hidden form element.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_newlines.html">LJ::html_newlines</a></span><span class="refpurpose"> &#8212; Replace newlines with HTML break tags.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_select.html">LJ::html_select</a></span><span class="refpurpose"> &#8212; Creates a drop-down box or listbox HTML form element (the &lt;select&gt; tag).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_submit.html">LJ::html_submit</a></span><span class="refpurpose"> &#8212; Makes the HTML for a submit button.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_text.html">LJ::html_text</a></span><span class="refpurpose"> &#8212; Creates a text input field, for single-line input.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.html_textarea.html">LJ::html_textarea</a></span><span class="refpurpose"> &#8212; Creates a text box for multi-line input (the &lt;textarea&gt; tag).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.http_to_time.html">LJ::http_to_time</a></span><span class="refpurpose"> &#8212; Converts HTTP date to Unix time.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.img.html">LJ::img</a></span><span class="refpurpose"> &#8212; Returns an HTML &lt;img&gt; or &lt;input&gt; tag to an named image code, which each site may define with a different image file with its own dimensions.  This prevents hard-coding filenames &amp; sizes into the source.  The real image data is stored in LJ::Img, which has default values provided in cgi-bin/imageconf.pl but can be overridden in etc/ljconfig.pl.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.infohistory_add.html">LJ::infohistory_add</a></span><span class="refpurpose"> &#8212; Add a line of text to the  table for an account.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.is_ascii.html">LJ::is_ascii</a></span><span class="refpurpose"> &#8212; checks if text is pure ASCII.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.is_banned.html">LJ::is_banned</a></span><span class="refpurpose"> &#8212; Checks to see if a user is banned from a journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.is_friend.html">LJ::is_friend</a></span><span class="refpurpose"> &#8212; Checks to see if a user is a friend of another user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.is_utf8.html">LJ::is_utf8</a></span><span class="refpurpose"> &#8212; check text for UTF-8 validity.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.is_valid_authaction.html">LJ::is_valid_authaction</a></span><span class="refpurpose"> &#8212; Validates a shared secret (authid/authcode pair)</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.item_link.html">LJ::item_link</a></span><span class="refpurpose"> &#8212; Returns URL to view an individual journal item.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.item_toutf8.html">LJ::item_toutf8</a></span><span class="refpurpose"> &#8212; convert one item's subject, text and props to UTF-8. item can be an entry or a comment (in which cases props can be left empty, since there are no 8bit talkprops).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.join_community.html">LJ::join_community</a></span><span class="refpurpose"> &#8212; Makes a user join a community.  Takes care of all <a class="xref" href="ljp.dbschema.reluser.ref.html#reluserdefs">reluser relationships</a> and friend stuff.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.journal_base.html">LJ::journal_base</a></span><span class="refpurpose"> &#8212; Returns URL of a user's journal.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.leave_community.html">LJ::leave_community</a></span><span class="refpurpose"> &#8212; Makes a user leave a community.  Takes care of all <a class="xref" href="ljp.dbschema.reluser.ref.html#reluserdefs">reluser relationships</a> and friend stuff.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.ljuser.html">LJ::ljuser</a></span><span class="refpurpose"> &#8212; Make link to userinfo/journal of user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_codes.html">LJ::load_codes</a></span><span class="refpurpose"> &#8212; Populates hashrefs with lookup data from the database or from memory, if already loaded in the past.  Examples of such lookup data include state codes, country codes, color name/value mappings, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_log_props2.html">LJ::load_log_props2</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_log_props2multi.html">LJ::load_log_props2multi</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_mood_theme.html">LJ::load_mood_theme</a></span><span class="refpurpose"> &#8212; Loads and caches a mood theme, or returns immediately if already loaded.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_moods.html">LJ::load_moods</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_props.html">LJ::load_props</a></span><span class="refpurpose"> &#8212; Loads and caches one or more of the various *proplist tables: <a class="link" href="ljp.dbschema.logproplist.html" title="logproplist">logproplist</a>, <a class="link" href="ljp.dbschema.talkproplist.html" title="talkproplist">talkproplist</a>, and <a class="link" href="ljp.dbschema.userproplist.html" title="userproplist">userproplist</a>, which describe the various meta-data that can be stored on log (journal) items, comments, and users, respectively.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_rel_target.html">LJ::load_rel_target</a></span><span class="refpurpose"> &#8212; Load user relationship information. Loads all relationships of type 'type' in which user 'targetid' participates on the right side (is the target of the relationship).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_rel_user.html">LJ::load_rel_user</a></span><span class="refpurpose"> &#8212; Load user relationship information. Loads all relationships of type 'type' in which user 'userid' participates on the left side (is the source of the relationship).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_rel_user_cache.html">LJ::load_rel_user_cache</a></span><span class="refpurpose"> &#8212; Loads user relationship information of the type 'type' where user 'targetid' participates on the left side (is the source of the relationship) trying memcache first.  The results from this sub should be <span class="strong"><strong>treated as inaccurate and out of date</strong></span>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_state_city_for_zip.html">LJ::load_state_city_for_zip</a></span><span class="refpurpose"> &#8212; Fetches state and city for the given zip-code value</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_talk_props2.html">LJ::load_talk_props2</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_user.html">LJ::load_user</a></span><span class="refpurpose"> &#8212; Loads a user record, from the <a class="link" href="ljp.dbschema.user.html" title="user">user</a> table, given a username.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_user_privs.html">LJ::load_user_privs</a></span><span class="refpurpose"> &#8212; loads all of the given privs for a given user into a hashref, inside the user record.  See also <a class="link" href="ljp.api.lj.check_priv.html" title="LJ::check_priv">LJ::check_priv</a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_user_props.html">LJ::load_user_props</a></span><span class="refpurpose"> &#8212; Given a user hashref, loads the values of the given named properties into that user hashref.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_userid.html">LJ::load_userid</a></span><span class="refpurpose"> &#8212; Loads a user record, from the <a class="link" href="ljp.dbschema.user.html" title="user">user</a> table, given a userid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_userids.html">LJ::load_userids</a></span><span class="refpurpose"> &#8212; Simple interface to LJ::load_userids_multiple.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_userids_multiple.html">LJ::load_userids_multiple</a></span><span class="refpurpose"> &#8212; Loads a number of users at once, efficiently.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.load_userpics.html">LJ::load_userpics</a></span><span class="refpurpose"> &#8212; Loads a bunch of userpic at once.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_auth_code.html">LJ::make_auth_code</a></span><span class="refpurpose"> &#8212; Makes a random string of characters of a given length.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_authas_select.html">LJ::make_authas_select</a></span><span class="refpurpose"> &#8212; Given a u object and some options, determines which users the given user can switch to.  If the list exists, returns a select list and a submit button with labels.  Otherwise returns a hidden element.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_cookie.html">LJ::make_cookie</a></span><span class="refpurpose"> &#8212; Prepares cookie header lines.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_journal.html">LJ::make_journal</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_link.html">LJ::make_link</a></span><span class="refpurpose"> &#8212; Takes a group of key=value pairs to append to a URL.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_postto_select.html">LJ::make_postto_select</a></span><span class="refpurpose"> &#8212; Given a u object and some options, determines which users the given user can post to.  If the list exists, returns a select list and a submit button with labels.  Otherwise returns a hidden element.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_qr_link.html">LJ::make_qr_link</a></span><span class="refpurpose"> &#8212; Creates the link to toggle the QR reply form or if JavaScript is not enabled, then forwards the user through to replyurl.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_qr_target.html">LJ::make_qr_target</a></span><span class="refpurpose"> &#8212; Returns a div usable for QuickReply boxes.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.make_user_active.html">LJ::make_user_active</a></span><span class="refpurpose"> &#8212; Record user activity per cluster, on <a class="link" href="ljp.dbschema.clustertrack2.html" title="clustertrack2">clustertrack2</a>, to make per-activity cluster stats easier.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.mark_as_spam.html">LJ::mark_as_spam</a></span><span class="refpurpose"> &#8212; Copies a message into the global <a class="link" href="ljp.dbschema.spamreports.html" title="spamreports">spamreports</a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.mark_authaction_used.html">LJ::mark_authaction_used</a></span><span class="refpurpose"> &#8212; Marks an authaction as being used.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.mark_comment_as_spam.html">LJ::mark_comment_as_spam</a></span><span class="refpurpose"> &#8212; Copies a comment into the global <a class="link" href="ljp.dbschema.spamreports.html" title="spamreports">spamreports</a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.mark_dirty.html">LJ::mark_dirty</a></span><span class="refpurpose"> &#8212; Marks a given user as being $what type of dirty.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.mark_entry_as_spam.html">LJ::mark_entry_as_spam</a></span><span class="refpurpose"> &#8212; Copies an entry in a community into the global <a class="link" href="ljp.dbschema.spamreports.html" title="spamreports">spamreports</a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.may_lock.html">LJ::may_lock</a></span><span class="refpurpose"> &#8212; see if we <span class="strong"><strong>could</strong></span> get a MySQL lock on a given key/dbrole combination, but don't actually get it.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.memcache_kill.html">LJ::memcache_kill</a></span><span class="refpurpose"> &#8212; Kills a memcache entry, given a userid and type.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.modify_caps.html">LJ::modify_caps</a></span><span class="refpurpose"> &#8212; Given a list of caps to add and caps to remove, updates a user's caps.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.mysql_time.html">LJ::mysql_time</a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.name_caps.html">LJ::name_caps</a></span><span class="refpurpose"> &#8212; Given a user's capability class bit mask, returns a site-specific string representing the capability class name.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.name_caps_short.html">LJ::name_caps_short</a></span><span class="refpurpose"> &#8212; Given a user's capability class bit mask, returns a site-specific short string code.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.new_account_cluster.html">LJ::new_account_cluster</a></span><span class="refpurpose"> &#8212; Which cluster to put a new account on.  $DEFAULT_CLUSTER if it's a scalar, random element from <a class="xref" href="lj.install.ljconfig.vars.html#ljconfig.default_cluster"><code class="varname">$LJ::DEFAULT_CLUSTER</code></a> if it's arrayref. also verifies that the database seems to be available.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.parse_vars.html">LJ::parse_vars</a></span><span class="refpurpose"> &#8212; Parses S1 style data into hashref.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.prepare_currents.html">LJ::prepare_currents</a></span><span class="refpurpose"> &#8212; do all the current music/mood/weather/whatever stuff.  only used by ljviews.pl.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.procnotify_add.html">LJ::procnotify_add</a></span><span class="refpurpose"> &#8212; Sends a message to all other processes on all clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.procnotify_callback.html">LJ::procnotify_callback</a></span><span class="refpurpose"> &#8212; Call back function process notifications.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.ratecheck_multi.html">LJ::ratecheck_multi</a></span><span class="refpurpose"> &#8212; takes a list of msg objects and sees if they will collectively pass the rate limit check.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.record_anon_comment_ip.html">LJ::record_anon_comment_ip</a></span><span class="refpurpose"> &#8212; Records the IP address of an anonymous comment.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.record_meme.html">LJ::record_meme</a></span><span class="refpurpose"> &#8212; Records a URL reference from a journal entry to the <a class="link" href="ljp.dbschema.meme.html" title="meme">meme</a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.register_authaction.html">LJ::register_authaction</a></span><span class="refpurpose"> &#8212; Registers a secret to have the user validate.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.register_hook.html">LJ::register_hook</a></span><span class="refpurpose"> &#8212; Installs a site-specific hook.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.register_setter.html">LJ::register_setter</a></span><span class="refpurpose"> &#8212; Installs code to run for the "set" command in the console.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.reject_comm_invite.html">LJ::reject_comm_invite</a></span><span class="refpurpose"> &#8212; Rejects an invitation a user has received.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.reject_pending_member.html">LJ::reject_pending_member</a></span><span class="refpurpose"> &#8212; Rejects someone's request to join a community. Updates <a class="link" href="ljp.dbschema.authactions.html" title="authactions">authactions</a> and generates an e-mail to the user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.release_lock.html">LJ::release_lock</a></span><span class="refpurpose"> &#8212; release a MySQL lock on a given key/dbrole combination.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.remote_has_priv.html">LJ::remote_has_priv</a></span><span class="refpurpose"> &#8212; Check to see if the given remote user has a certain privilege.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.remove_friend.html">LJ::remove_friend</a></span><span class="refpurpose"> &#8212; delete existing friends.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.robot_meta_tags.html">LJ::robot_meta_tags</a></span><span class="refpurpose"> &#8212; Returns meta tags to instruct a robot/crawler to not index or follow links.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.run_hook.html">LJ::run_hook</a></span><span class="refpurpose"> &#8212; Runs single site-specific hook of the given name.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.run_hooks.html">LJ::run_hooks</a></span><span class="refpurpose"> &#8212; Runs all the site-specific hooks of the given name.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.send_comm_invite.html">LJ::send_comm_invite</a></span><span class="refpurpose"> &#8212; Sends an invitation to a user to join a community with the passed abilities.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.send_mail.html">LJ::send_mail</a></span><span class="refpurpose"> &#8212; Sends email.  Character set will only be used if message is not ASCII.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.server_down_html.html">LJ::server_down_html</a></span><span class="refpurpose"> &#8212; Returns an HTML server down message.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.set_interests.html">LJ::set_interests</a></span><span class="refpurpose"> &#8212; Change a user's interests.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.set_lastcomment.html">LJ::set_lastcomment</a></span><span class="refpurpose"> &#8212; Sets the lastcomm memcached key for this user's last comment.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.set_rel.html">LJ::set_rel</a></span><span class="refpurpose"> &#8212; Sets relationship information for two users.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.set_rel_multi.html">LJ::set_rel_multi</a></span><span class="refpurpose"> &#8212; Sets relationship edges for lists of user tuples.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.set_userprop.html">LJ::set_userprop</a></span><span class="refpurpose"> &#8212; Sets/deletes a userprop by name for a user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.shared_member_request.html">LJ::shared_member_request</a></span><span class="refpurpose"> &#8212; Registers an authaction to add a user to a shared journal and sends an approval e-mail.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.site_schemes.html">LJ::site_schemes</a></span><span class="refpurpose"> &#8212; Returns a list of available BML schemes.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.start_request.html">LJ::start_request</a></span><span class="refpurpose"> &#8212; Before a new web request is obtained, this should be called to determine if process should die or keep working, clean caches, reload config files, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.statushistory_add.html">LJ::statushistory_add</a></span><span class="refpurpose"> &#8212; Adds a row to a user's statushistory</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.statushistory_time.html">LJ::statushistory_time</a></span><span class="refpurpose"> &#8212; Convert a time like "20070401120323" to "2007-04-01 12:03:23".</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.strip_bad_code.html">LJ::strip_bad_code</a></span><span class="refpurpose"> &#8212; Removes malicious/annoying HTML.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.sysban_block.html">LJ::sysban_block</a></span><span class="refpurpose"> &#8212; Notes a sysban in <a class="link" href="ljp.dbschema.statushistory.html" title="statushistory">statushistory</a> and returns a fake HTTP error message to the user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.sysban_check.html">LJ::sysban_check</a></span><span class="refpurpose"> &#8212; Given a 'what' and 'value', checks to see if a ban exists.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.sysban_create.html">LJ::sysban_create</a></span><span class="refpurpose"> &#8212; creates a sysban.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.sysban_note.html">LJ::sysban_note</a></span><span class="refpurpose"> &#8212; Inserts a properly-formatted row into <a class="link" href="ljp.dbschema.statushistory.html" title="statushistory">statushistory</a> noting that a ban has been triggered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.sysban_validate.html">LJ::sysban_validate</a></span><span class="refpurpose"> &#8212; determines whether a sysban can be added for a given value.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_compress.html">LJ::text_compress</a></span><span class="refpurpose"> &#8212; Compresses a chunk of text, to gzip, if configured for site.  Can compress a scalarref in place, or return a compressed copy.  Won't compress if value is too small, already compressed, or size would grow by compressing.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_convert.html">LJ::text_convert</a></span><span class="refpurpose"> &#8212; convert old entries/comments to UTF-8 using user's default encoding.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_in.html">LJ::text_in</a></span><span class="refpurpose"> &#8212; do appropriate checks on input text. Should be called on all user-generated text.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_length.html">LJ::text_length</a></span><span class="refpurpose"> &#8212; returns both byte length and character length of a string. In a non-Unicode environment, this means byte length twice. In a Unicode environment, the function assumes that its argument is a valid UTF-8 string.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_out.html">LJ::text_out</a></span><span class="refpurpose"> &#8212; force outgoing text into valid UTF-8.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_trim.html">LJ::text_trim</a></span><span class="refpurpose"> &#8212; truncate string according to requirements on byte length, char length, or both. "char length" means number of UTF-8 characters if <a class="xref" href="lj.install.ljconfig.vars.html#ljconfig.unicode"><code class="varname">$LJ::UNICODE</code></a> is set, or the same thing as byte length otherwise.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.text_uncompress.html">LJ::text_uncompress</a></span><span class="refpurpose"> &#8212; Uncompresses a chunk of text, from gzip, if configured for site.  Can uncompress a scalarref in place, or return a compressed copy.  Won't uncompress unless it finds the gzip magic number at the beginning of the text.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.time_to_cookie.html">LJ::time_to_cookie</a></span><span class="refpurpose"> &#8212; Converts Unix time to format expected in a Set-Cookie header.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.time_to_http.html">LJ::time_to_http</a></span><span class="refpurpose"> &#8212; Converts a Unix time to a HTTP date.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.trim.html">LJ::trim</a></span><span class="refpurpose"> &#8212; Removes whitespace from left and right side of a string.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.u_equals.html">LJ::u_equals</a></span><span class="refpurpose"> &#8212; Compares two user objects to see if they are the same user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.use_diff_db.html">LJ::use_diff_db</a></span><span class="refpurpose"> &#8212; given two DB roles, returns true only if it is certain the two roles are served by different database servers.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.user_caps_icon.html">LJ::user_caps_icon</a></span><span class="refpurpose"> &#8212; Given a user's capability class bit mask, returns site-specific HTML with the capability class icon.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.userpic_count.html">LJ::userpic_count</a></span><span class="refpurpose"> &#8212; Gets a count of userpics for a given user.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.want_user.html">LJ::want_user</a></span><span class="refpurpose"> &#8212; Returns user object when passed either userid or user object. Useful to functions that want to accept either.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.want_userid.html">LJ::want_userid</a></span><span class="refpurpose"> &#8212; Returns userid when passed either userid or the user hash. Useful to functions that want to accept either. Forces its return value to be a number (for safety).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.warning_list.html">LJ::warning_list</a></span><span class="refpurpose"> &#8212; Returns a warning bar with bulleted list of warnings.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.api.lj.wipe_major_memcache.html">LJ::wipe_major_memcache</a></span><span class="refpurpose"> &#8212; invalidate all major memcache items associated with a given user.</span>
</dt>
</dl></dd>
</dl></dd>
<dt><span class="part"><a href="ljp.dbschema.index.html">VI. Database Schema</a></span></dt>
<dd><dl>
<dt><span class="chapter"><a href="ljp.dbschema.reluser.ref.html">33. Relationships between users</a></span></dt>
<dt><span class="reference"><a href="ljp.dbschema.ref.html">IV. Database Schema Browser</a></span></dt>
<dd><dl>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.abuse_mail.html">
      <span class="database">abuse_mail</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctcode.html">
      <span class="database">acctcode</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of valid invite codes and who has used them. The acctinvite table stores the data on why they were made.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctinvite.html">
      <span class="database">acctinvite</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctpay.html">
      <span class="database">acctpay</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctpayitem.html">
      <span class="database">acctpayitem</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.actionhistory.html">
      <span class="database">actionhistory</span>
    </a></span><span class="refpurpose"> &#8212; A global table which logs summaries on results of cluster sweeps by cron. The cron job is usually run nightly, to clean the caches, so in turn this table is updated nightly.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.active_user.html">
      <span class="database">active_user</span>
    </a></span><span class="refpurpose"> &#8212; Used for tracking, such as tracking types of user activity on a per-hour basis (example: $u had login activity during this hour). An "active user" is a user who has hit a LiveJournal page while logged-in, within the specified time period. Only used if MemCache servers are available, and the site administrator has not disabled active user tracking in ljconfig.pl. Clustered activity data from the current or previous hour is not harvested, to avoid counting duplicates. The year, month, day, hour, and userid columns make up the primary key, for duplicate checking. Please see also <a class="link" href="ljp.dbschema.active_user_summary.html" title="active_user_summary"><span class="database">active_user_summary</span></a> and <a class="link" href="ljp.dbschema.clustertrack2.html" title="clustertrack2"><span class="database">clustertrack2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.active_user_summary.html">
      <span class="database">active_user_summary</span>
    </a></span><span class="refpurpose"> &#8212; Indexed by year, month, day, hour, to allow multiple rows per clusterid, per hour. Only used if MemCache servers are available. Please see also <a class="link" href="ljp.dbschema.active_user.html" title="active_user"><span class="database">active_user</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.adopt.html">
      <span class="database">adopt</span>
    </a></span><span class="refpurpose"> &#8212; Unused. Designed for the "Adopt-a-newbie" system, but never fully implemented.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.adoptlast.html">
      <span class="database">adoptlast</span>
    </a></span><span class="refpurpose"> &#8212; Unused. Designed for the "Adopt-a-newbie" system, but never fully implemented.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.amort_current.html">
      <span class="database">amort_current</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.amort_summary.html">
      <span class="database">amort_summary</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.authactions.html">
      <span class="database">authactions</span>
    </a></span><span class="refpurpose"> &#8212; When authenticating certain actions, the server generates an authaction along with some random characters (the authcode) and e-mails the aaid+authcode to the user to confirm they actually got it.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.authnetlog.html">
      <span class="database">authnetlog</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.backupdirty.html">
      <span class="database">backupdirty</span>
    </a></span><span class="refpurpose"> &#8212; Tracks per-user backup status.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.betanav_feedback.html">
      <span class="database">betanav_feedback</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.birthdays.html">
      <span class="database">birthdays</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table, holding unixtime of the user's next birthday.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.blobcache.html">
      <span class="database">blobcache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.blockwatch_events.html">
      <span class="database">blockwatch_events</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrbalance.html">
      <span class="database">bzrbalance</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrpayout.html">
      <span class="database">bzrpayout</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrpot.html">
      <span class="database">bzrpot</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrs.html">
      <span class="database">bzrs</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrvote.html">
      <span class="database">bzrvote</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrvoter.html">
      <span class="database">bzrvoter</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.captcha_session.html">
      <span class="database">captcha_session</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.captchas.html">
      <span class="database">captchas</span>
    </a></span><span class="refpurpose"> &#8212; Stores CAPTCHAs.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ccfail.html">
      <span class="database">ccfail</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cdn_map.html">
      <span class="database">cdn_map</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.challenges.html">
      <span class="database">challenges</span>
    </a></span><span class="refpurpose"> &#8212; Challenges table (for non-memcached support), for RFC 2617 challenge-response digest authentication support; used on-site for logins, commenting, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clients.html">
      <span class="database">clients</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of clients that access the protocol.

Whenever the protocol encounters a new client, a new row (and thus a new clientid) is generated.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clientusage.html">
      <span class="database">clientusage</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of when different users use which clients, for purposes of statistics.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clustermove.html">
      <span class="database">clustermove</span>
    </a></span><span class="refpurpose"> &#8212; Required table for moveucluster script, which moves a LiveJournal user between database clusters. Start/completion of the user move is stored in the table. It is also noted in the table if the user is to be expunged; a note is made in the <a class="link" href="ljp.dbschema.expunged_users.html" title="expunged_users"><span class="database">expunged_users</span></a> table that the user and its data has been expunged.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clustermove_inprogress.html">
      <span class="database">clustermove_inprogress</span>
    </a></span><span class="refpurpose"> &#8212; Required table for user-mover script (ljumover). The script performs mass user-move operations between various clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clustertrack2.html">
      <span class="database">clustertrack2</span>
    </a></span><span class="refpurpose"> &#8212; Used for tracking where users are active; for per-activity user cluster statistics. The LJ::make_user_active function updates into this table, so long as it has not already been updated for the same user within the last hour. For sites not using memcached, the table is always updated. Please see also <a class="link" href="ljp.dbschema.active_user.html" title="active_user"><span class="database">active_user</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cmdbuffer.html">
      <span class="database">cmdbuffer</span>
    </a></span><span class="refpurpose"> &#8212; Clustered version of querybuffer table (which no longer exists). Uses specialized commands instead of general table locking.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.codes.html">
      <span class="database">codes</span>
    </a></span><span class="refpurpose"> &#8212; Lookup table for states, countries, languages, etc...</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.comm_promo_list.html">
      <span class="database">comm_promo_list</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.commenturls.html">
      <span class="database">commenturls</span>
    </a></span><span class="refpurpose"> &#8212; Global table. The "talk_max_urls" site  variable, when set, enables logging of a given number of URLs from new comments here.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.comminterests.html">
      <span class="database">comminterests</span>
    </a></span><span class="refpurpose"> &#8212; Community interests. Please see also <a class="link" href="ljp.dbschema.interests.html" title="interests"><span class="database">interests</span></a>, which stores interest data for normal <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> accounts.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.community.html">
      <span class="database">community</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of properties of community accounts (which are just normal <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> accounts with some extra behavior).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.content_flag.html">
      <span class="database">content_flag</span>
    </a></span><span class="refpurpose"> &#8212; Stores flagged content meta-data. Content can be flagged as adult content, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.contributed.html">
      <span class="database">contributed</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.contributedack.html">
      <span class="database">contributedack</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.counter.html">
      <span class="database">counter</span>
    </a></span><span class="refpurpose"> &#8212; User counters. Deprecated and should not be used for any purpose. Use <a class="link" href="ljp.dbschema.usercounter.html" title="usercounter"><span class="database">usercounter</span></a> instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.coupon.html">
      <span class="database">coupon</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cprod.html">
      <span class="database">cprod</span>
    </a></span><span class="refpurpose"> &#8212; Contextual product prodding history. This makes sure people are not pestered by specific prodding when they do not want it anymore.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cprodlist.html">
      <span class="database">cprodlist</span>
    </a></span><span class="refpurpose"> &#8212; Global. Contextual product prodding ("Hey, you've never used polls, wanna learn how?").</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dbinfo.html">
      <span class="database">dbinfo</span>
    </a></span><span class="refpurpose"> &#8212; For LiveJournal installations with many databases, the database connection info, roles, and weightings can be stored in the database instead of the %LJ::DBINFO hash, for easier (web-based) management.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dbweights.html">
      <span class="database">dbweights</span>
    </a></span><span class="refpurpose"> &#8212; The <a class="link" href="ljp.dbschema.dbinfo.html" title="dbinfo"><span class="database">dbinfo</span></a> table keeps track of which databases exist. This one keeps track of each database's roles and weights.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.debug_notifymethod.html">
      <span class="database">debug_notifymethod</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.deletion_feedback.html">
      <span class="database">deletion_feedback</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dirmogsethandles.html">
      <span class="database">dirmogsethandles</span>
    </a></span><span class="refpurpose"> &#8212; Stores MogileFS sethandles for the Directory Search.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dirsearchres2.html">
      <span class="database">dirsearchres2</span>
    </a></span><span class="refpurpose"> &#8212; Holds the results of a Directory Search query. userids is either "[Searching]" if a query is still running, or a list of userids if it is finished.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.domains.html">
      <span class="database">domains</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of user-owned domain names, and which journals they map to when pointed at the LiveJournal installation's IP address.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dudata.html">
      <span class="database">dudata</span>
    </a></span><span class="refpurpose"> &#8212; Tracks user-based disk usage totals.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.duplock.html">
      <span class="database">duplock</span>
    </a></span><span class="refpurpose"> &#8212; Provides a place to record that an action has been done, so it doesn't get done a second time later by a user accidentally double-clicking a single-click button in their browser. 

The idea is that the application should grab a write lock for both the table it's inserting into, and the duplock table. Then, check the duplock table for a duplicate. If it's already in there, unlock the tables and remember the dupid to tell the user (app should pretend it was the first time... don't show an error message!), or if it's not in there, put it in the table, and then put the resulting uniqueid from the table handler into the duplock table (as dupid). 

The duplock table is purged every hour or so of all locks older than an hour.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.email.html">
      <span class="database">email</span>
    </a></span><span class="refpurpose"> &#8212; Holds user e-mail addresses, which were historically stored in the the <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.email_aliases.html">
      <span class="database">email_aliases</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.embedcontent.html">
      <span class="database">embedcontent</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.eventtypelist.html">
      <span class="database">eventtypelist</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.expunged_users.html">
      <span class="database">expunged_users</span>
    </a></span><span class="refpurpose"> &#8212; The moveucluster script logs here on expunging a user, so they can be queried later by time or username.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.extuser.html">
      <span class="database">extuser</span>
    </a></span><span class="refpurpose"> &#8212; External user mappings. Note: extuser/extuserid are expected to sometimes be NULL, even though they are keyed. (Null values are not taken into account when using indexes).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.faq.html">
      <span class="database">faq</span>
    </a></span><span class="refpurpose"> &#8212; Holds Frequently Asked Question information and their optional summaries for the FAQ section of the support system. Alternate text can be loaded for the questions if available.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.faqcat.html">
      <span class="database">faqcat</span>
    </a></span><span class="refpurpose"> &#8212; Categories under which Frequently Asked Questions can be classified.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.faquses.html">
      <span class="database">faquses</span>
    </a></span><span class="refpurpose"> &#8212; Tracks viewings of the individual <a class="link" href="ljp.dbschema.faq.html" title="faq"><span class="database">faq</span></a>s from logged-in users.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.fotobilder_feedback.html">
      <span class="database">fotobilder_feedback</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.frank_text.html">
      <span class="database">frank_text</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.fraudsuspects.html">
      <span class="database">fraudsuspects</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.friendgroup.html">
      <span class="database">friendgroup</span>
    </a></span><span class="refpurpose"> &#8212; Table describing a user's friends groups. Friends groups are used to restrict who can see an individual entry, or to filter the friends view.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.friendgroup2.html">
      <span class="database">friendgroup2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered friend groups. Stores data on user custom friend groups.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.friends.html">
      <span class="database">friends</span>
    </a></span><span class="refpurpose"> &#8212; Table describing users someone has listed as a "friend". Also details preferences on the friend item.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.has_subs.html">
      <span class="database">has_subs</span>
    </a></span><span class="refpurpose"> &#8212; Partitioned: ESN subscriptions: A flag on event target (a journal) is written here saying whether there are known listeners out there.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.identitymap.html">
      <span class="database">identitymap</span>
    </a></span><span class="refpurpose"> &#8212; Mapping for external identity types, like "O" - OpenID, "T" - TypeKey, etc. 

This focuses on OpenID consumer support, and was introduced so infrastructure was in place to make it completely identity-system neutral rather than OpenID-specific. 

In theory, eventually, this will allow people to log in with TypeKey, LID, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.includetext.html">
      <span class="database">includetext</span>
    </a></span><span class="refpurpose"> &#8212; Database table for storing special "include" files used in sections of the site (like the "known issues" box in support). Useful for keeping clusters of web servers in sync easier.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.incoming_email_handle.html">
      <span class="database">incoming_email_handle</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.infohistory.html">
      <span class="database">infohistory</span>
    </a></span><span class="refpurpose"> &#8212; A history log table for certain types of changes (like user e-mail changes). So the old values can be looked at by administrators or automatically retrieved.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.interests.html">
      <span class="database">interests</span>
    </a></span><span class="refpurpose"> &#8212; Table describing the different interests listed, and the number of users listing each interest. Please see also <a class="link" href="ljp.dbschema.comminterests.html" title="comminterests"><span class="database">comminterests</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.inventory.html">
      <span class="database">inventory</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.inviterecv.html">
      <span class="database">inviterecv</span>
    </a></span><span class="refpurpose"> &#8212; Stores community invitations received.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.invitesent.html">
      <span class="database">invitesent</span>
    </a></span><span class="refpurpose"> &#8212; Stores community invitations sent.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jabcluster.html">
      <span class="database">jabcluster</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jablastseen.html">
      <span class="database">jablastseen</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jabpresence.html">
      <span class="database">jabpresence</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jabroster.html">
      <span class="database">jabroster</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jamrewards.html">
      <span class="database">jamrewards</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jobstatus.html">
      <span class="database">jobstatus</span>
    </a></span><span class="refpurpose"> &#8212; Worker(s) result storage.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.journal_spotlight.html">
      <span class="database">journal_spotlight</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.keywords.html">
      <span class="database">keywords</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Stores userpic keywords. Please see also the clustered <a class="link" href="ljp.dbschema.userkeywords.html" title="userkeywords"><span class="database">userkeywords</span></a> table, used from data version 7.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.knob.html">
      <span class="database">knob</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.links.html">
      <span class="database">links</span>
    </a></span><span class="refpurpose"> &#8212; Stores data for links users place in their Links List (&#8220;blogroll&#8221;), used in S2 styles.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.log2.html">
      <span class="database">log2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.loginlog.html">
      <span class="database">loginlog</span>
    </a></span><span class="refpurpose"> &#8212; Stores data to give users access to view their logins in the past 30 days, if they're at all afraid that their account has been compromised </span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.loginstall.html">
      <span class="database">loginstall</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logkwsum.html">
      <span class="database">logkwsum</span>
    </a></span><span class="refpurpose"> &#8212; Summary counts for security on entry keywords (tags).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logprop2.html">
      <span class="database">logprop2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logproplist.html">
      <span class="database">logproplist</span>
    </a></span><span class="refpurpose"> &#8212; List of possible meta-data for journal entries.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logsec2.html">
      <span class="database">logsec2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logtags.html">
      <span class="database">logtags</span>
    </a></span><span class="refpurpose"> &#8212; Mapping of tags applied to an entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logtagsrecent.html">
      <span class="database">logtagsrecent</span>
    </a></span><span class="refpurpose"> &#8212; Like <a class="link" href="ljp.dbschema.logtags.html" title="logtags"><span class="database">logtags</span></a>, but only for the most recent 100 tags-to-entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logtext2.html">
      <span class="database">logtext2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.loyalty_userpic_history.html">
      <span class="database">loyalty_userpic_history</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.meetup_ints.html">
      <span class="database">meetup_ints</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.meme.html">
      <span class="database">meme</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memkeyword.html">
      <span class="database">memkeyword</span>
    </a></span><span class="refpurpose"> &#8212; Memory keyword map. Please see also <a class="link" href="ljp.dbschema.memkeyword2.html" title="memkeyword2"><span class="database">memkeyword2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memkeyword2.html">
      <span class="database">memkeyword2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered memory keyword map.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memorable.html">
      <span class="database">memorable</span>
    </a></span><span class="refpurpose"> &#8212; Stores metadata for entries users mark as "Memories". Please see also the clustered <a class="link" href="ljp.dbschema.memorable2.html" title="memorable2"><span class="database">memorable2</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memorable2.html">
      <span class="database">memorable2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered memories table. Stores metadata for entries users mark as "Memories".</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_domains.html">
      <span class="database">ml_domains</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_items.html">
      <span class="database">ml_items</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_langdomains.html">
      <span class="database">ml_langdomains</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_langs.html">
      <span class="database">ml_langs</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_latest.html">
      <span class="database">ml_latest</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_text.html">
      <span class="database">ml_text</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.modblob.html">
      <span class="database">modblob</span>
    </a></span><span class="refpurpose"> &#8212; Moderated community post Storable object (all props/options).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.modlog.html">
      <span class="database">modlog</span>
    </a></span><span class="refpurpose"> &#8212; Moderated community post summary information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.moods.html">
      <span class="database">moods</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.moodthemedata.html">
      <span class="database">moodthemedata</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.moodthemes.html">
      <span class="database">moodthemes</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.navtag.html">
      <span class="database">navtag</span>
    </a></span><span class="refpurpose"> &#8212; Holds data for site pages tagged using the htdocs/admin/navtag.bml tool. Siteadmins can tag any URL. The tag itself is lowercase UTF-8. Some are recognized as special (FAQs, user profile pages, etc.), and users can then search by tag.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.needed_backups.html">
      <span class="database">needed_backups</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.news_sent.html">
      <span class="database">news_sent</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.noderefs.html">
      <span class="database">noderefs</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifyarchive.html">
      <span class="database">notifyarchive</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifybookmarks.html">
      <span class="database">notifybookmarks</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifyqueue.html">
      <span class="database">notifyqueue</span>
    </a></span><span class="refpurpose"> &#8212; ESN event queue notification method.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifytypelist.html">
      <span class="database">notifytypelist</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.oldids.html">
      <span class="database">oldids</span>
    </a></span><span class="refpurpose"> &#8212; Stores globally-unique itemid and talkid ID (entries and comments), for URL compatibility. These were used pre-clustering. The LJ::get_newids function uses this table to find out what journal an old global ID belongs to and maps it to its new ID.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openid_endpoint.html">
      <span class="database">openid_endpoint</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openid_external.html">
      <span class="database">openid_external</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openid_trust.html">
      <span class="database">openid_trust</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openproxy.html">
      <span class="database">openproxy</span>
    </a></span><span class="refpurpose"> &#8212; Tracks open HTTP proxies.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.overrides.html">
      <span class="database">overrides</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Stores user S1 style system override customizations. Please see also the <a class="link" href="ljp.dbschema.s1overrides.html" title="s1overrides"><span class="database">s1overrides</span></a> clustered table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paidexp.html">
      <span class="database">paidexp</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paiduser.html">
      <span class="database">paiduser</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.partialstats.html">
      <span class="database">partialstats</span>
    </a></span><span class="refpurpose"> &#8212; Partialstats - stores calculation times.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.partialstatsdata.html">
      <span class="database">partialstatsdata</span>
    </a></span><span class="refpurpose"> &#8212; Partialstats - stores data per cluster.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.password.html">
      <span class="database">password</span>
    </a></span><span class="refpurpose"> &#8212; Holds user login passwords, which were historically stored in the <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paycredit.html">
      <span class="database">paycredit</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payitemprop.html">
      <span class="database">payitemprop</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payitems.html">
      <span class="database">payitems</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payments.html">
      <span class="database">payments</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paymentsearch.html">
      <span class="database">paymentsearch</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paystates.html">
      <span class="database">paystates</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paytrans.html">
      <span class="database">paytrans</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payvars.html">
      <span class="database">payvars</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pendcomments.html">
      <span class="database">pendcomments</span>
    </a></span><span class="refpurpose"> &#8212; Stores comments, such as OpenID comments, awaiting user approval.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.perm_sale_200706.html">
      <span class="database">perm_sale_200706</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.persistent_queue.html">
      <span class="database">persistent_queue</span>
    </a></span><span class="refpurpose"> &#8212; Global table for persistent queues.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phonepostdests.html">
      <span class="database">phonepostdests</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phonepostentry.html">
      <span class="database">phonepostentry</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phonepostlogin.html">
      <span class="database">phonepostlogin</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phoneposttrans.html">
      <span class="database">phoneposttrans</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.poll.html">
      <span class="database">poll</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.poll2.html">
      <span class="database">poll2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollitem.html">
      <span class="database">pollitem</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollitem2.html">
      <span class="database">pollitem2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollowner.html">
      <span class="database">pollowner</span>
    </a></span><span class="refpurpose"> &#8212; Global. Maps a pollid to a userid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollquestion.html">
      <span class="database">pollquestion</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollquestion2.html">
      <span class="database">pollquestion2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollresult.html">
      <span class="database">pollresult</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollresult2.html">
      <span class="database">pollresult2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollsubmission.html">
      <span class="database">pollsubmission</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollsubmission2.html">
      <span class="database">pollsubmission2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal.html">
      <span class="database">portal</span>
    </a></span><span class="refpurpose"> &#8212; Stored data for old '1.0' version of the Portal; used before the Portal was re-designed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal_box_prop.html">
      <span class="database">portal_box_prop</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal_config.html">
      <span class="database">portal_config</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal_typemap.html">
      <span class="database">portal_typemap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_list.html">
      <span class="database">priv_list</span>
    </a></span><span class="refpurpose"> &#8212; List of different admin privileges that users can have.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_map.html">
      <span class="database">priv_map</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_packages.html">
      <span class="database">priv_packages</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_packages_content.html">
      <span class="database">priv_packages_content</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.procnotify.html">
      <span class="database">procnotify</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.promo_item.html">
      <span class="database">promo_item</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.promo_set.html">
      <span class="database">promo_set</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.qotd.html">
      <span class="database">qotd</span>
    </a></span><span class="refpurpose"> &#8212; Data for the Question of the Day ("Writer's Block") widget.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.random_user_set.html">
      <span class="database">random_user_set</span>
    </a></span><span class="refpurpose"> &#8212; On posting an entry (public, to personal journal, and not opted out (using latest_optout option at the console)) a user may end up with a row in this table. The htdocs/random.bml page returns a random user that is both 1) publicly listed in the directory, and 2) updated within the past 24 hours. If a user changes their privacy setting, using the console, to not be in this table, it will take up to 24 hours for them to be removed from the random.bml listing; a cron job builds/cleans the table. 

The information row is kept for seven days by default. Site administrators can adjust this using the $LJ::RANDOM_USER_PERIOD variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.rateabuse.html">
      <span class="database">rateabuse</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ratelist.html">
      <span class="database">ratelist</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ratelog.html">
      <span class="database">ratelog</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.readonly_user.html">
      <span class="database">readonly_user</span>
    </a></span><span class="refpurpose"> &#8212; Used by the move user cluster script. Both before and after updating a user's read-only flag we add the user to this table, which is just an index onto users who - might - be in read-only. 

A maintenance task will periodically clean those and make sure nobody is stranded in read-only, without resorting to a full tablescan of the <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> table, by checking if users are still locked, removing those that are not from this table, querying the job server (if up) for users that are still locked and unlocking those that can be unlocked.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill.html">
      <span class="database">recbill</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_cc.html">
      <span class="database">recbill_cc</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_items.html">
      <span class="database">recbill_items</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_log.html">
      <span class="database">recbill_log</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_pendtime.html">
      <span class="database">recbill_pendtime</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_promo.html">
      <span class="database">recbill_promo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recentactions.html">
      <span class="database">recentactions</span>
    </a></span><span class="refpurpose"> &#8212; A clustered table where a bunch of actions that have happened are logged, like a post action (which calls LJ::note_recent_action).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.reluser.html">
      <span class="database">reluser</span>
    </a></span><span class="refpurpose"> &#8212; Tracks special links ("reluser relationships") between accounts, such as community maintainers/moderators. A relationship "type" is a single character. 

It is a non-clustered global table. Please see also <a class="link" href="ljp.dbschema.reluser2.html" title="reluser2"><span class="database">reluser2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.reluser2.html">
      <span class="database">reluser2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Tracks special links ("reluser relationships") between accounts.  

Relationship type IDs are defined in the LJ::get_reluser_id function. A relationship "typeid" cannot be a single character. Please see also <a class="link" href="ljp.dbschema.reluser.html" title="reluser"><span class="database">reluser</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.renames.html">
      <span class="database">renames</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1overrides.html">
      <span class="database">s1overrides</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Stores user S1 style system override customizations. The clustered table was used from data version 5. Please see also the global <a class="link" href="ljp.dbschema.overrides.html" title="overrides"><span class="database">overrides</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1style.html">
      <span class="database">s1style</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. User style data for S1 style system. The clustered table was used from data version 5. Please see also the global <a class="link" href="ljp.dbschema.style.html" title="style"><span class="database">style</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1stylecache.html">
      <span class="database">s1stylecache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1stylemap.html">
      <span class="database">s1stylemap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1usercache.html">
      <span class="database">s1usercache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2checker.html">
      <span class="database">s2checker</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2compiled.html">
      <span class="database">s2compiled</span>
    </a></span><span class="refpurpose"> &#8212; Global table (compdata is not gzipped). Please see also <a class="link" href="ljp.dbschema.s2compiled2.html" title="s2compiled2"><span class="database">s2compiled2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2compiled2.html">
      <span class="database">s2compiled2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table (compdata is gzipped). This table is keyed on (userid, layerid) and contains data that is compressed when it's put in. (Tests show this reduces data size by about 75 percent.) 

Only for user S2 layers (not system) and is lazily migrated. New saves go here. Loads try this table first (unless user is system) and if miss, then try the <a class="link" href="ljp.dbschema.s2compiled.html" title="s2compiled"><span class="database">s2compiled</span></a> table on the global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2info.html">
      <span class="database">s2info</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2layers.html">
      <span class="database">s2layers</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2source.html">
      <span class="database">s2source</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2source_inno.html">
      <span class="database">s2source_inno</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2stylelayers.html">
      <span class="database">s2stylelayers</span>
    </a></span><span class="refpurpose"> &#8212; Please see also clustered table, called <a class="link" href="ljp.dbschema.s2stylelayers2.html" title="s2stylelayers2"><span class="database">s2stylelayers2</span></a> on the user clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2stylelayers2.html">
      <span class="database">s2stylelayers2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2styles.html">
      <span class="database">s2styles</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_error.html">
      <span class="database">sch_error</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_exitstatus.html">
      <span class="database">sch_exitstatus</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_funcmap.html">
      <span class="database">sch_funcmap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_job.html">
      <span class="database">sch_job</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_note.html">
      <span class="database">sch_note</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schemacols.html">
      <span class="database">schemacols</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schematables.html">
      <span class="database">schematables</span>
    </a></span><span class="refpurpose"> &#8212; This table is the documentation for the database tables.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schools.html">
      <span class="database">schools</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schools_attended.html">
      <span class="database">schools_attended</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schools_pending.html">
      <span class="database">schools_pending</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.secrets.html">
      <span class="database">secrets</span>
    </a></span><span class="refpurpose"> &#8212; Data for a rotating secret value on the server, for auth support.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sessions.html">
      <span class="database">sessions</span>
    </a></span><span class="refpurpose"> &#8212; Web sessions.  Optionally tied to IPs and with expiration times. Whenever a session is okayed, expired ones or ones created over 30 days ago are deleted. 

A live session can't change e-mail address or password. Digest authentication will be required for that, or JavaScript MD5 challenge-response.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sessions_data.html">
      <span class="database">sessions_data</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.shipping.html">
      <span class="database">shipping</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.site_messages.html">
      <span class="database">site_messages</span>
    </a></span><span class="refpurpose"> &#8212; Data for SiteMessages widget (used to post announcements to users). </span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msg.html">
      <span class="database">sms_msg</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgack.html">
      <span class="database">sms_msgack</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgerror.html">
      <span class="database">sms_msgerror</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgprop.html">
      <span class="database">sms_msgprop</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgproplist.html">
      <span class="database">sms_msgproplist</span>
    </a></span><span class="refpurpose"> &#8212; Unlike most other *proplist tables, this one is auto-populated by the LiveJournal application.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgtext.html">
      <span class="database">sms_msgtext</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_promo.html">
      <span class="database">sms_promo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_quota.html">
      <span class="database">sms_quota</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.smsuniqmap.html">
      <span class="database">smsuniqmap</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.smsusermap.html">
      <span class="database">smsusermap</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.spamreports.html">
      <span class="database">spamreports</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Used for the spam reporting system, with the <a class="link" href="ljp.dbschema.tempanonips.html" title="tempanonips"><span class="database">tempanonips</span></a> table. When deleting a comment, users have the option to "mark comment as spam." When checked, the comment is saved here for administrator review. 

The admin tool (/admin/spamreports.bml hinging on siteadmin:spamreports) allows spam report viewing: top 10 reported IPs, top 10 reported users (and showing if someone has received a spam warning before), last 10 reports, reports in last 1 hour, 6 hours, and 24 hours. Admins can then take whatever action they think is necessary and close the report (page supports sorting by open/closed).

The LJ::mark_comment_as_spam function copies the comment reported as spam into this table. The LJ::mark_entry_as_spam function parallels it, copying a community entry marked as spam into the table. 

If the comment was anonymous, the LJ::record_anon_comment_ip function will get the IP and record it into the <a class="link" href="ljp.dbschema.tempanonips.html" title="tempanonips"><span class="database">tempanonips</span></a> table. An ljmaint script cron task cleans out data older than 90 days. 

The 'spamreport_notification' hook exists for optionally notifying people about spamming.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.spinvox_msg.html">
      <span class="database">spinvox_msg</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.stats.html">
      <span class="database">stats</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.statushistory.html">
      <span class="database">statushistory</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.style.html">
      <span class="database">style</span>
    </a></span><span class="refpurpose"> &#8212; Global table. User style data for S1 style system. Please see also the <a class="link" href="ljp.dbschema.s1style.html" title="s1style"><span class="database">s1style</span></a> clustered table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.subs.html">
      <span class="database">subs</span>
    </a></span><span class="refpurpose"> &#8212; Partitioned: ESN subscriptions:  details of a user's subscriptions.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.subsprop.html">
      <span class="database">subsprop</span>
    </a></span><span class="refpurpose"> &#8212; Partitioned: ESN subscriptions:  metadata on a user's subscriptions.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.subsproplist.html">
      <span class="database">subsproplist</span>
    </a></span><span class="refpurpose"> &#8212; Unlike most other *proplist tables, this one is auto-populated by the LiveJournal application.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_extblocks.html">
      <span class="database">sup_extblocks</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsor_history.html">
      <span class="database">sup_sponsor_history</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsored_user_history.html">
      <span class="database">sup_sponsored_user_history</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsored_users.html">
      <span class="database">sup_sponsored_users</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsors.html">
      <span class="database">sup_sponsors</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.support.html">
      <span class="database">support</span>
    </a></span><span class="refpurpose"> &#8212; Holds data for the Support system.  

It is indexed by state, requserid, and reqemail, to let users with the supporthelp priv see past support requests by a user: When viewing a support request, the user with the priv will history.bml, which will then pull up a list of all requests opened by that user or by that e-mail address.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.support_answers.html">
      <span class="database">support_answers</span>
    </a></span><span class="refpurpose"> &#8212; Holds stock answers for Support system. Answers are viewable by those with the "supporthelp" priv, and editable by people who have the ability to grant privileges in their category.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.support_youreplied.html">
      <span class="database">support_youreplied</span>
    </a></span><span class="refpurpose"> &#8212; Holds data for which support tickets a user responded to. Aids in making the Support system "You Replied" query fast.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportcat.html">
      <span class="database">supportcat</span>
    </a></span><span class="refpurpose"> &#8212; Categories for support system.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportlog.html">
      <span class="database">supportlog</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportnotify.html">
      <span class="database">supportnotify</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportpoints.html">
      <span class="database">supportpoints</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportpointsum.html">
      <span class="database">supportpointsum</span>
    </a></span><span class="refpurpose"> &#8212; Holds data on user Support points. Used for speedier querying for htdocs/support/highscores.bml.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportprop.html">
      <span class="database">supportprop</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.survey_v0_8bit.html">
      <span class="database">survey_v0_8bit</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.syndicated.html">
      <span class="database">syndicated</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.synitem.html">
      <span class="database">synitem</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sysban.html">
      <span class="database">sysban</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talk2.html">
      <span class="database">talk2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkleft.html">
      <span class="database">talkleft</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkleft_xfp.html">
      <span class="database">talkleft_xfp</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkprop2.html">
      <span class="database">talkprop2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkproplist.html">
      <span class="database">talkproplist</span>
    </a></span><span class="refpurpose"> &#8212; List of possible meta-data for comments.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talktext2.html">
      <span class="database">talktext2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.temp_stylecontest2poll.html">
      <span class="database">temp_stylecontest2poll</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.tempanonips.html">
      <span class="database">tempanonips</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Temporary IP storage for spam reports, whether the journal in which the anonymous comment was posted in has enabled IP tracking or not. Used with the <a class="link" href="ljp.dbschema.spamreports.html" title="spamreports"><span class="database">spamreports</span></a> table. 

For the anonymous comment, LJ::record_anon_comment_ip gets the IP and records it into the this table. It is cleaned by an ljmaint script. 

Note: These IPs are only stored for 5 days - so anonymous comments deleted after 5 days are fairly useless, and reports about them are quietly discarded by the comment deletion system.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.themedata.html">
      <span class="database">themedata</span>
    </a></span><span class="refpurpose"> &#8212; Lists the system colors themes available to users.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.themelist.html">
      <span class="database">themelist</span>
    </a></span><span class="refpurpose"> &#8212; Different color schemes.  Hopefully this will die when the new style system replaces the current one.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.todo.html">
      <span class="database">todo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.tododep.html">
      <span class="database">tododep</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.todokeyword.html">
      <span class="database">todokeyword</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.transferinfo.html">
      <span class="database">transferinfo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.tshirtpoll.html">
      <span class="database">tshirtpoll</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.txtmsg.html">
      <span class="database">txtmsg</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.underage.html">
      <span class="database">underage</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.uniqmap.html">
      <span class="database">uniqmap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.urimap.html">
      <span class="database">urimap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.user.html">
      <span class="database">user</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.user_schools.html">
      <span class="database">user_schools</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userbio.html">
      <span class="database">userbio</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userblob.html">
      <span class="database">userblob</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table, for tracking blobs (binary large objects) of on-disk data. 

The user counter type "B" is available for tracking blobids. Blob* files/classes for storing Blobs need to be added either to a local path or a remote Blob server ("remote Blob server" support has since been removed in favor of MogileFS). 

Notes: blobids aren't necessarily unique between domains; global userpicids may collide with the counter used for the rest.  So, the type must be in the key. domain IDs are set up in ljconfig.pl.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userblobcache.html">
      <span class="database">userblobcache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usercounter.html">
      <span class="database">usercounter</span>
    </a></span><span class="refpurpose"> &#8212; User counters on the global (contrary to the name).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.useridmap.html">
      <span class="database">useridmap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userinterests.html">
      <span class="database">userinterests</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userkeywords.html">
      <span class="database">userkeywords</span>
    </a></span><span class="refpurpose"> &#8212; Clustered userpic keywords. See also <a class="link" href="ljp.dbschema.userpic2.html" title="userpic2"><span class="database">userpic2</span></a>/<a class="link" href="ljp.dbschema.userpicmap2.html" title="userpicmap2"><span class="database">userpicmap2</span></a> 

The userkeywords table never gets deleted from, except if the user itself gets deleted.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userlog.html">
      <span class="database">userlog</span>
    </a></span><span class="refpurpose"> &#8212; Useful for general purpose status logging, such as when an entry is deleted or logging post-by-e-mail activity. 

The table stores the initiator of the event so that we are able to look back and say, for example: "this person deleted the entry". This works for communities and individual journals and the actions are logged on the account that lost the entry. 

The basic format is [ action, actiontarget ]. An action is just a textual description of what happened (up to 30 characters) and the target is optional but is likely some numeric value.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsg.html">
      <span class="database">usermsg</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsgprop.html">
      <span class="database">usermsgprop</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsgproplist.html">
      <span class="database">usermsgproplist</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsgtext.html">
      <span class="database">usermsgtext</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpic.html">
      <span class="database">userpic</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Userpic storage. Please see also <a class="link" href="ljp.dbschema.userpicmap.html" title="userpicmap"><span class="database">userpicmap</span></a>. For sites using data version 7 or greater, the clustered <a class="link" href="ljp.dbschema.userpic2.html" title="userpic2"><span class="database">userpic2</span></a> table is used.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpic2.html">
      <span class="database">userpic2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. From data version 7, userpics are clustered - see also <a class="link" href="ljp.dbschema.userpicmap2.html" title="userpicmap2"><span class="database">userpicmap2</span></a>. A site-configurable limit to the number of keywords (<a class="link" href="ljp.dbschema.userkeywords.html" title="userkeywords"><span class="database">userkeywords</span></a>) for each userpic exists; default is 5. 

The global <a class="link" href="ljp.dbschema.userpic.html" title="userpic"><span class="database">userpic</span></a> table is used prior to data version 7.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpicblob2.html">
      <span class="database">userpicblob2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpicmap.html">
      <span class="database">userpicmap</span>
    </a></span><span class="refpurpose"> &#8212; Stores data for mapping userpic <a class="link" href="ljp.dbschema.keywords.html" title="keywords"><span class="database">keywords</span></a> to <a class="link" href="ljp.dbschema.userpic.html" title="userpic"><span class="database">userpic</span></a>s. Please see also <a class="link" href="ljp.dbschema.userpicmap2.html" title="userpicmap2"><span class="database">userpicmap2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpicmap2.html">
      <span class="database">userpicmap2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Stores data for mapping userpic keywords (<a class="link" href="ljp.dbschema.userkeywords.html" title="userkeywords"><span class="database">userkeywords</span></a>) to userpics (<a class="link" href="ljp.dbschema.userpic2.html" title="userpic2"><span class="database">userpic2</span></a>). From data version 7, userpics are clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userprop.html">
      <span class="database">userprop</span>
    </a></span><span class="refpurpose"> &#8212; Global, indexed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpropblob.html">
      <span class="database">userpropblob</span>
    </a></span><span class="refpurpose"> &#8212; Clustered. This table was introduced to support user properties greater than 255 bytes.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userproplist.html">
      <span class="database">userproplist</span>
    </a></span><span class="refpurpose"> &#8212; List of possible meta-data on users.

Allows for having userprops stored globally for indexing; and, by way of the multihomed column, on a cluster as "multihomed userprops", for easy access on user profile pages and such.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userproplite.html">
      <span class="database">userproplite</span>
    </a></span><span class="refpurpose"> &#8212; Global, not indexed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userproplite2.html">
      <span class="database">userproplite2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered, not indexed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usersearch_packdata.html">
      <span class="database">usersearch_packdata</span>
    </a></span><span class="refpurpose"> &#8212; Information for Directory Search: userid, a "pack" of information - time of last update, age, journal type, country, state, and city; row modification time, and expiry information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertags.html">
      <span class="database">usertags</span>
    </a></span><span class="refpurpose"> &#8212; Table showing what tags a user has; parentkwid can be null.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertrans.html">
      <span class="database">usertrans</span>
    </a></span><span class="refpurpose"> &#8212; Global. Tracks user account transitions (e.g. "free" to "plus", or whatever site-specific capability classes exist). The time, type, and before =&gt; after values are noted in the table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertrans_churn.html">
      <span class="database">usertrans_churn</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertrans_sum.html">
      <span class="database">usertrans_sum</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userusage.html">
      <span class="database">userusage</span>
    </a></span><span class="refpurpose"> &#8212; Keep track of when <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a>s did certain things.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vertical.html">
      <span class="database">vertical</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vertical_entries.html">
      <span class="database">vertical_entries</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vertical_rules.html">
      <span class="database">vertical_rules</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vgifts.html">
      <span class="database">vgifts</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.weekuserusage.html">
      <span class="database">weekuserusage</span>
    </a></span><span class="refpurpose"> &#8212; Obsolete table. It was used to keep track of user activity, such as latest time a user posted in a week, for a given week. Used from data version 3, but ceased to be used later, when the Friends view algorithm was re-designed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.xuqa_log.html">
      <span class="database">xuqa_log</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.zip.html">
      <span class="database">zip</span>
    </a></span><span class="refpurpose"> &#8212; ZIP Code table used to validate and auto-complete user-entered location data. More information can be found in the (redundant) table <a class="link" href="ljp.dbschema.zips.html" title="zips"><span class="database">zips</span></a>, which was imported later.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.zips.html">
      <span class="database">zips</span>
    </a></span><span class="refpurpose"> &#8212; ZIP Code data for the United States that includes geographic co-ordinates. Only used with an ljmaint script that generates marker files for use in making Xplanet maps. Most of the LJ code uses the <a class="link" href="ljp.dbschema.zip.html" title="zip"><span class="database">zip</span></a> table instead.</span>
</dt>
</dl></dd>
</dl></dd>
</dl>
</div>
<div class="list-of-examples">
<p><b>List of Examples</b></p>
<dl>
<dt>24.1. <a href="ljp.csp.auth.cookies.html#example-ljp-flat_cookieauth_wget">Using <span class="application">Wget</span> 1.10 with <code class="literal">auth_method=cookie</code> in flat protocol</a>
</dt>
<dt>24.2. <a href="ljp.csp.auth.challresp.html#example-ljp-challengeauth_script">Sample Perl script using <code class="methodname">getchallenge</code></a>
</dt>
<dt>3. <a href="ljp.csp.xml-rpc.checkfriends.html#example-ljp.csp.xml-rpc-call_checkfriends">Sample call to <code class="literal">LJ.XMLRPC.checkfriends</code></a>
</dt>
<dt>4. <a href="ljp.csp.xml-rpc.checkfriends.html#example-ljp.csp.xml-rpc-return_checkfriends">Sample return value for <code class="literal">LJ.XMLRPC.checkfriends</code></a>
</dt>
<dt>5. <a href="ljp.csp.xml-rpc.consolecommand.html#example-ljp.csp.xml-rpc-call_consolecommand">Sample call to <code class="literal">LJ.XMLRPC.consolecommand</code></a>
</dt>
<dt>6. <a href="ljp.csp.xml-rpc.consolecommand.html#example-ljp.csp.xml-rpc-return_consolecommand">Sample return value for <code class="literal">LJ.XMLRPC.consolecommand</code></a>
</dt>
<dt>7. <a href="ljp.csp.xml-rpc.editevent.html#example-ljp.csp.xml-rpc-call_editevent">Sample call to <code class="literal">LJ.XMLRPC.editevent</code></a>
</dt>
<dt>8. <a href="ljp.csp.xml-rpc.editevent.html#example-ljp.csp.xml-rpc-return_editevent">Sample return value for <code class="literal">LJ.XMLRPC.editevent</code></a>
</dt>
<dt>9. <a href="ljp.csp.xml-rpc.editfriendgroups.html#example-ljp.csp.xml-rpc-call_editfriendgroups">Sample call to <code class="literal">LJ.XMLRPC.editfriendgroups</code></a>
</dt>
<dt>10. <a href="ljp.csp.xml-rpc.editfriendgroups.html#example-ljp.csp.xml-rpc-return_editfriendgroups">Sample return value for <code class="literal">LJ.XMLRPC.editfriendgroups</code></a>
</dt>
<dt>11. <a href="ljp.csp.xml-rpc.editfriends.html#example-ljp.csp.xml-rpc-call_editfriends">Sample call to <code class="literal">LJ.XMLRPC.editfriends</code></a>
</dt>
<dt>12. <a href="ljp.csp.xml-rpc.editfriends.html#example-ljp.csp.xml-rpc-return_editfriends">Sample return value for <code class="literal">LJ.XMLRPC.editfriends</code></a>
</dt>
<dt>13. <a href="ljp.csp.xml-rpc.friendof.html#example-ljp.csp.xml-rpc-call_friendof">Sample call to <code class="literal">LJ.XMLRPC.friendof</code></a>
</dt>
<dt>14. <a href="ljp.csp.xml-rpc.friendof.html#example-ljp.csp.xml-rpc-return_friendof">Sample return value for <code class="literal">LJ.XMLRPC.friendof</code></a>
</dt>
<dt>15. <a href="ljp.csp.xml-rpc.getchallenge.html#example-ljp.csp.xml-rpc-call_getchallenge">Sample call to <code class="literal">LJ.XMLRPC.getchallenge</code></a>
</dt>
<dt>16. <a href="ljp.csp.xml-rpc.getchallenge.html#example-ljp.csp.xml-rpc-return_getchallenge">Sample return value for <code class="literal">LJ.XMLRPC.getchallenge</code></a>
</dt>
<dt>17. <a href="ljp.csp.xml-rpc.getdaycounts.html#example-ljp.csp.xml-rpc-call_getdaycounts">Sample call to <code class="literal">LJ.XMLRPC.getdaycounts</code></a>
</dt>
<dt>18. <a href="ljp.csp.xml-rpc.getdaycounts.html#example-ljp.csp.xml-rpc-return_getdaycounts">Sample return value for <code class="literal">LJ.XMLRPC.getdaycounts</code></a>
</dt>
<dt>19. <a href="ljp.csp.xml-rpc.getevents.html#example-ljp.csp.xml-rpc-call_getevents">Sample call to <code class="literal">LJ.XMLRPC.getevents</code></a>
</dt>
<dt>20. <a href="ljp.csp.xml-rpc.getevents.html#example-ljp.csp.xml-rpc-return_getevents">Sample return value for <code class="literal">LJ.XMLRPC.getevents</code></a>
</dt>
<dt>21. <a href="ljp.csp.xml-rpc.getfriends.html#example-ljp.csp.xml-rpc-call_getfriends">Sample call to <code class="literal">LJ.XMLRPC.getfriends</code></a>
</dt>
<dt>22. <a href="ljp.csp.xml-rpc.getfriends.html#example-ljp.csp.xml-rpc-return_getfriends">Sample return value for <code class="literal">LJ.XMLRPC.getfriends</code></a>
</dt>
<dt>23. <a href="ljp.csp.xml-rpc.getfriendgroups.html#example-ljp.csp.xml-rpc-call_getfriendgroups">Sample call to <code class="literal">LJ.XMLRPC.getfriendgroups</code></a>
</dt>
<dt>24. <a href="ljp.csp.xml-rpc.getfriendgroups.html#example-ljp.csp.xml-rpc-return_getfriendgroups">Sample return value for <code class="literal">LJ.XMLRPC.getfriendgroups</code></a>
</dt>
<dt>25. <a href="ljp.csp.xml-rpc.getusertags.html#example-ljp.csp.xml-rpc-call_getusertags">Sample call to <code class="literal">LJ.XMLRPC.getusertags</code></a>
</dt>
<dt>26. <a href="ljp.csp.xml-rpc.getusertags.html#example-ljp.csp.xml-rpc-return_getusertags">Sample return value for <code class="literal">LJ.XMLRPC.getusertags</code></a>
</dt>
<dt>27. <a href="ljp.csp.xml-rpc.login.html#example-ljp.csp.xml-rpc-call_login">Sample call to <code class="literal">LJ.XMLRPC.login</code></a>
</dt>
<dt>28. <a href="ljp.csp.xml-rpc.login.html#example-ljp.csp.xml-rpc-return_login">Sample return value for <code class="literal">LJ.XMLRPC.login</code></a>
</dt>
<dt>29. <a href="ljp.csp.xml-rpc.postevent.html#example-ljp.csp.xml-rpc-call_postevent">Sample call to <code class="literal">LJ.XMLRPC.postevent</code></a>
</dt>
<dt>30. <a href="ljp.csp.xml-rpc.postevent.html#example-ljp.csp.xml-rpc-return_postevent">Sample return value for <code class="literal">LJ.XMLRPC.postevent</code></a>
</dt>
<dt>31. <a href="ljp.csp.xml-rpc.sessionexpire.html#example-ljp.csp.xml-rpc-call_sessionexpire">Sample call to <code class="literal">LJ.XMLRPC.sessionexpire</code></a>
</dt>
<dt>32. <a href="ljp.csp.xml-rpc.sessionexpire.html#example-ljp.csp.xml-rpc-return_sessionexpire">Sample return value for <code class="literal">LJ.XMLRPC.sessionexpire</code></a>
</dt>
<dt>33. <a href="ljp.csp.xml-rpc.sessiongenerate.html#example-ljp.csp.xml-rpc-call_sessiongenerate">Sample call to <code class="literal">LJ.XMLRPC.sessiongenerate</code></a>
</dt>
<dt>34. <a href="ljp.csp.xml-rpc.sessiongenerate.html#example-ljp.csp.xml-rpc-return_sessiongenerate">Sample return value for <code class="literal">LJ.XMLRPC.sessiongenerate</code></a>
</dt>
<dt>35. <a href="ljp.csp.xml-rpc.syncitems.html#example-ljp.csp.xml-rpc-call_syncitems">Sample call to <code class="literal">LJ.XMLRPC.syncitems</code></a>
</dt>
<dt>36. <a href="ljp.csp.xml-rpc.syncitems.html#example-ljp.csp.xml-rpc-return_syncitems">Sample return value for <code class="literal">LJ.XMLRPC.syncitems</code></a>
</dt>
</dl>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ljp.api.bml.set_status.html">Prev</a> </td>
<td width="20%" align="center"> </td>
<td width="40%" align="right"> <a accesskey="n" href="ljp.prog-guide.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">BML::set_status </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Part I. Programming Guidelines</td>
</tr>
</table>
</div>
</body>
</html>
