<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Database Schema Browser</title>
<link rel="stylesheet" href="style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="LiveJournal Server">
<link rel="up" href="ljp.dbschema.index.html" title="Part VI. Database Schema">
<link rel="prev" href="ljp.dbschema.reluser.ref.html" title="Chapter 33. Relationships between users">
<link rel="next" href="ljp.dbschema.abuse_mail.html" title="abuse_mail">
<meta name="date" content="2008-Jan-15">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Database Schema Browser</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="ljp.dbschema.reluser.ref.html">Prev</a> </td>
<th width="60%" align="center">Part VI. Database Schema</th>
<td width="20%" align="right"> <a accesskey="n" href="ljp.dbschema.abuse_mail.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="reference" lang="en" id="ljp.dbschema.ref">
<div class="titlepage">
<div><div><h1 class="title">Database Schema Browser</h1></div></div>
<hr>
</div>
<div class="toc">
<p><b>Table of Contents</b></p>
<dl>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.abuse_mail.html">
      <span class="database">abuse_mail</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctcode.html">
      <span class="database">acctcode</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of valid invite codes and who has used them. The acctinvite table stores the data on why they were made.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctinvite.html">
      <span class="database">acctinvite</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctpay.html">
      <span class="database">acctpay</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.acctpayitem.html">
      <span class="database">acctpayitem</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.actionhistory.html">
      <span class="database">actionhistory</span>
    </a></span><span class="refpurpose"> &#8212; A global table which logs summaries on results of cluster sweeps by cron. The cron job is usually run nightly, to clean the caches, so in turn this table is updated nightly.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.active_user.html">
      <span class="database">active_user</span>
    </a></span><span class="refpurpose"> &#8212; Used for tracking, such as tracking types of user activity on a per-hour basis (example: $u had login activity during this hour). An "active user" is a user who has hit a LiveJournal page while logged-in, within the specified time period. Only used if MemCache servers are available, and the site administrator has not disabled active user tracking in ljconfig.pl. Clustered activity data from the current or previous hour is not harvested, to avoid counting duplicates. The year, month, day, hour, and userid columns make up the primary key, for duplicate checking. Please see also <a class="link" href="ljp.dbschema.active_user_summary.html" title="active_user_summary"><span class="database">active_user_summary</span></a> and <a class="link" href="ljp.dbschema.clustertrack2.html" title="clustertrack2"><span class="database">clustertrack2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.active_user_summary.html">
      <span class="database">active_user_summary</span>
    </a></span><span class="refpurpose"> &#8212; Indexed by year, month, day, hour, to allow multiple rows per clusterid, per hour. Only used if MemCache servers are available. Please see also <a class="link" href="ljp.dbschema.active_user.html" title="active_user"><span class="database">active_user</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.adopt.html">
      <span class="database">adopt</span>
    </a></span><span class="refpurpose"> &#8212; Unused. Designed for the "Adopt-a-newbie" system, but never fully implemented.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.adoptlast.html">
      <span class="database">adoptlast</span>
    </a></span><span class="refpurpose"> &#8212; Unused. Designed for the "Adopt-a-newbie" system, but never fully implemented.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.amort_current.html">
      <span class="database">amort_current</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.amort_summary.html">
      <span class="database">amort_summary</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.authactions.html">
      <span class="database">authactions</span>
    </a></span><span class="refpurpose"> &#8212; When authenticating certain actions, the server generates an authaction along with some random characters (the authcode) and e-mails the aaid+authcode to the user to confirm they actually got it.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.authnetlog.html">
      <span class="database">authnetlog</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.backupdirty.html">
      <span class="database">backupdirty</span>
    </a></span><span class="refpurpose"> &#8212; Tracks per-user backup status.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.betanav_feedback.html">
      <span class="database">betanav_feedback</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.birthdays.html">
      <span class="database">birthdays</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table, holding unixtime of the user's next birthday.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.blobcache.html">
      <span class="database">blobcache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.blockwatch_events.html">
      <span class="database">blockwatch_events</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrbalance.html">
      <span class="database">bzrbalance</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrpayout.html">
      <span class="database">bzrpayout</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrpot.html">
      <span class="database">bzrpot</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrs.html">
      <span class="database">bzrs</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrvote.html">
      <span class="database">bzrvote</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.bzrvoter.html">
      <span class="database">bzrvoter</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.captcha_session.html">
      <span class="database">captcha_session</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.captchas.html">
      <span class="database">captchas</span>
    </a></span><span class="refpurpose"> &#8212; Stores CAPTCHAs.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ccfail.html">
      <span class="database">ccfail</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cdn_map.html">
      <span class="database">cdn_map</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.challenges.html">
      <span class="database">challenges</span>
    </a></span><span class="refpurpose"> &#8212; Challenges table (for non-memcached support), for RFC 2617 challenge-response digest authentication support; used on-site for logins, commenting, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clients.html">
      <span class="database">clients</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of clients that access the protocol.

Whenever the protocol encounters a new client, a new row (and thus a new clientid) is generated.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clientusage.html">
      <span class="database">clientusage</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of when different users use which clients, for purposes of statistics.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clustermove.html">
      <span class="database">clustermove</span>
    </a></span><span class="refpurpose"> &#8212; Required table for moveucluster script, which moves a LiveJournal user between database clusters. Start/completion of the user move is stored in the table. It is also noted in the table if the user is to be expunged; a note is made in the <a class="link" href="ljp.dbschema.expunged_users.html" title="expunged_users"><span class="database">expunged_users</span></a> table that the user and its data has been expunged.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clustermove_inprogress.html">
      <span class="database">clustermove_inprogress</span>
    </a></span><span class="refpurpose"> &#8212; Required table for user-mover script (ljumover). The script performs mass user-move operations between various clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.clustertrack2.html">
      <span class="database">clustertrack2</span>
    </a></span><span class="refpurpose"> &#8212; Used for tracking where users are active; for per-activity user cluster statistics. The LJ::make_user_active function updates into this table, so long as it has not already been updated for the same user within the last hour. For sites not using memcached, the table is always updated. Please see also <a class="link" href="ljp.dbschema.active_user.html" title="active_user"><span class="database">active_user</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cmdbuffer.html">
      <span class="database">cmdbuffer</span>
    </a></span><span class="refpurpose"> &#8212; Clustered version of querybuffer table (which no longer exists). Uses specialized commands instead of general table locking.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.codes.html">
      <span class="database">codes</span>
    </a></span><span class="refpurpose"> &#8212; Lookup table for states, countries, languages, etc...</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.comm_promo_list.html">
      <span class="database">comm_promo_list</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.commenturls.html">
      <span class="database">commenturls</span>
    </a></span><span class="refpurpose"> &#8212; Global table. The "talk_max_urls" site  variable, when set, enables logging of a given number of URLs from new comments here.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.comminterests.html">
      <span class="database">comminterests</span>
    </a></span><span class="refpurpose"> &#8212; Community interests. Please see also <a class="link" href="ljp.dbschema.interests.html" title="interests"><span class="database">interests</span></a>, which stores interest data for normal <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> accounts.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.community.html">
      <span class="database">community</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of properties of community accounts (which are just normal <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> accounts with some extra behavior).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.content_flag.html">
      <span class="database">content_flag</span>
    </a></span><span class="refpurpose"> &#8212; Stores flagged content meta-data. Content can be flagged as adult content, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.contributed.html">
      <span class="database">contributed</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.contributedack.html">
      <span class="database">contributedack</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.counter.html">
      <span class="database">counter</span>
    </a></span><span class="refpurpose"> &#8212; User counters. Deprecated and should not be used for any purpose. Use <a class="link" href="ljp.dbschema.usercounter.html" title="usercounter"><span class="database">usercounter</span></a> instead.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.coupon.html">
      <span class="database">coupon</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cprod.html">
      <span class="database">cprod</span>
    </a></span><span class="refpurpose"> &#8212; Contextual product prodding history. This makes sure people are not pestered by specific prodding when they do not want it anymore.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.cprodlist.html">
      <span class="database">cprodlist</span>
    </a></span><span class="refpurpose"> &#8212; Global. Contextual product prodding ("Hey, you've never used polls, wanna learn how?").</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dbinfo.html">
      <span class="database">dbinfo</span>
    </a></span><span class="refpurpose"> &#8212; For LiveJournal installations with many databases, the database connection info, roles, and weightings can be stored in the database instead of the %LJ::DBINFO hash, for easier (web-based) management.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dbweights.html">
      <span class="database">dbweights</span>
    </a></span><span class="refpurpose"> &#8212; The <a class="link" href="ljp.dbschema.dbinfo.html" title="dbinfo"><span class="database">dbinfo</span></a> table keeps track of which databases exist. This one keeps track of each database's roles and weights.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.debug_notifymethod.html">
      <span class="database">debug_notifymethod</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.deletion_feedback.html">
      <span class="database">deletion_feedback</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dirmogsethandles.html">
      <span class="database">dirmogsethandles</span>
    </a></span><span class="refpurpose"> &#8212; Stores MogileFS sethandles for the Directory Search.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dirsearchres2.html">
      <span class="database">dirsearchres2</span>
    </a></span><span class="refpurpose"> &#8212; Holds the results of a Directory Search query. userids is either "[Searching]" if a query is still running, or a list of userids if it is finished.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.domains.html">
      <span class="database">domains</span>
    </a></span><span class="refpurpose"> &#8212; Keeps track of user-owned domain names, and which journals they map to when pointed at the LiveJournal installation's IP address.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.dudata.html">
      <span class="database">dudata</span>
    </a></span><span class="refpurpose"> &#8212; Tracks user-based disk usage totals.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.duplock.html">
      <span class="database">duplock</span>
    </a></span><span class="refpurpose"> &#8212; Provides a place to record that an action has been done, so it doesn't get done a second time later by a user accidentally double-clicking a single-click button in their browser. 

The idea is that the application should grab a write lock for both the table it's inserting into, and the duplock table. Then, check the duplock table for a duplicate. If it's already in there, unlock the tables and remember the dupid to tell the user (app should pretend it was the first time... don't show an error message!), or if it's not in there, put it in the table, and then put the resulting uniqueid from the table handler into the duplock table (as dupid). 

The duplock table is purged every hour or so of all locks older than an hour.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.email.html">
      <span class="database">email</span>
    </a></span><span class="refpurpose"> &#8212; Holds user e-mail addresses, which were historically stored in the the <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.email_aliases.html">
      <span class="database">email_aliases</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.embedcontent.html">
      <span class="database">embedcontent</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.eventtypelist.html">
      <span class="database">eventtypelist</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.expunged_users.html">
      <span class="database">expunged_users</span>
    </a></span><span class="refpurpose"> &#8212; The moveucluster script logs here on expunging a user, so they can be queried later by time or username.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.extuser.html">
      <span class="database">extuser</span>
    </a></span><span class="refpurpose"> &#8212; External user mappings. Note: extuser/extuserid are expected to sometimes be NULL, even though they are keyed. (Null values are not taken into account when using indexes).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.faq.html">
      <span class="database">faq</span>
    </a></span><span class="refpurpose"> &#8212; Holds Frequently Asked Question information and their optional summaries for the FAQ section of the support system. Alternate text can be loaded for the questions if available.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.faqcat.html">
      <span class="database">faqcat</span>
    </a></span><span class="refpurpose"> &#8212; Categories under which Frequently Asked Questions can be classified.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.faquses.html">
      <span class="database">faquses</span>
    </a></span><span class="refpurpose"> &#8212; Tracks viewings of the individual <a class="link" href="ljp.dbschema.faq.html" title="faq"><span class="database">faq</span></a>s from logged-in users.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.fotobilder_feedback.html">
      <span class="database">fotobilder_feedback</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.frank_text.html">
      <span class="database">frank_text</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.fraudsuspects.html">
      <span class="database">fraudsuspects</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.friendgroup.html">
      <span class="database">friendgroup</span>
    </a></span><span class="refpurpose"> &#8212; Table describing a user's friends groups. Friends groups are used to restrict who can see an individual entry, or to filter the friends view.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.friendgroup2.html">
      <span class="database">friendgroup2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered friend groups. Stores data on user custom friend groups.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.friends.html">
      <span class="database">friends</span>
    </a></span><span class="refpurpose"> &#8212; Table describing users someone has listed as a "friend". Also details preferences on the friend item.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.has_subs.html">
      <span class="database">has_subs</span>
    </a></span><span class="refpurpose"> &#8212; Partitioned: ESN subscriptions: A flag on event target (a journal) is written here saying whether there are known listeners out there.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.identitymap.html">
      <span class="database">identitymap</span>
    </a></span><span class="refpurpose"> &#8212; Mapping for external identity types, like "O" - OpenID, "T" - TypeKey, etc. 

This focuses on OpenID consumer support, and was introduced so infrastructure was in place to make it completely identity-system neutral rather than OpenID-specific. 

In theory, eventually, this will allow people to log in with TypeKey, LID, etc.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.includetext.html">
      <span class="database">includetext</span>
    </a></span><span class="refpurpose"> &#8212; Database table for storing special "include" files used in sections of the site (like the "known issues" box in support). Useful for keeping clusters of web servers in sync easier.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.incoming_email_handle.html">
      <span class="database">incoming_email_handle</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.infohistory.html">
      <span class="database">infohistory</span>
    </a></span><span class="refpurpose"> &#8212; A history log table for certain types of changes (like user e-mail changes). So the old values can be looked at by administrators or automatically retrieved.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.interests.html">
      <span class="database">interests</span>
    </a></span><span class="refpurpose"> &#8212; Table describing the different interests listed, and the number of users listing each interest. Please see also <a class="link" href="ljp.dbschema.comminterests.html" title="comminterests"><span class="database">comminterests</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.inventory.html">
      <span class="database">inventory</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.inviterecv.html">
      <span class="database">inviterecv</span>
    </a></span><span class="refpurpose"> &#8212; Stores community invitations received.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.invitesent.html">
      <span class="database">invitesent</span>
    </a></span><span class="refpurpose"> &#8212; Stores community invitations sent.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jabcluster.html">
      <span class="database">jabcluster</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jablastseen.html">
      <span class="database">jablastseen</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jabpresence.html">
      <span class="database">jabpresence</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jabroster.html">
      <span class="database">jabroster</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jamrewards.html">
      <span class="database">jamrewards</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.jobstatus.html">
      <span class="database">jobstatus</span>
    </a></span><span class="refpurpose"> &#8212; Worker(s) result storage.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.journal_spotlight.html">
      <span class="database">journal_spotlight</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.keywords.html">
      <span class="database">keywords</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Stores userpic keywords. Please see also the clustered <a class="link" href="ljp.dbschema.userkeywords.html" title="userkeywords"><span class="database">userkeywords</span></a> table, used from data version 7.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.knob.html">
      <span class="database">knob</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.links.html">
      <span class="database">links</span>
    </a></span><span class="refpurpose"> &#8212; Stores data for links users place in their Links List (&#8220;blogroll&#8221;), used in S2 styles.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.log2.html">
      <span class="database">log2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.loginlog.html">
      <span class="database">loginlog</span>
    </a></span><span class="refpurpose"> &#8212; Stores data to give users access to view their logins in the past 30 days, if they're at all afraid that their account has been compromised </span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.loginstall.html">
      <span class="database">loginstall</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logkwsum.html">
      <span class="database">logkwsum</span>
    </a></span><span class="refpurpose"> &#8212; Summary counts for security on entry keywords (tags).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logprop2.html">
      <span class="database">logprop2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logproplist.html">
      <span class="database">logproplist</span>
    </a></span><span class="refpurpose"> &#8212; List of possible meta-data for journal entries.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logsec2.html">
      <span class="database">logsec2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logtags.html">
      <span class="database">logtags</span>
    </a></span><span class="refpurpose"> &#8212; Mapping of tags applied to an entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logtagsrecent.html">
      <span class="database">logtagsrecent</span>
    </a></span><span class="refpurpose"> &#8212; Like <a class="link" href="ljp.dbschema.logtags.html" title="logtags"><span class="database">logtags</span></a>, but only for the most recent 100 tags-to-entry.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.logtext2.html">
      <span class="database">logtext2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.loyalty_userpic_history.html">
      <span class="database">loyalty_userpic_history</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.meetup_ints.html">
      <span class="database">meetup_ints</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.meme.html">
      <span class="database">meme</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memkeyword.html">
      <span class="database">memkeyword</span>
    </a></span><span class="refpurpose"> &#8212; Memory keyword map. Please see also <a class="link" href="ljp.dbschema.memkeyword2.html" title="memkeyword2"><span class="database">memkeyword2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memkeyword2.html">
      <span class="database">memkeyword2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered memory keyword map.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memorable.html">
      <span class="database">memorable</span>
    </a></span><span class="refpurpose"> &#8212; Stores metadata for entries users mark as "Memories". Please see also the clustered <a class="link" href="ljp.dbschema.memorable2.html" title="memorable2"><span class="database">memorable2</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.memorable2.html">
      <span class="database">memorable2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered memories table. Stores metadata for entries users mark as "Memories".</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_domains.html">
      <span class="database">ml_domains</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_items.html">
      <span class="database">ml_items</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_langdomains.html">
      <span class="database">ml_langdomains</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_langs.html">
      <span class="database">ml_langs</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_latest.html">
      <span class="database">ml_latest</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ml_text.html">
      <span class="database">ml_text</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.modblob.html">
      <span class="database">modblob</span>
    </a></span><span class="refpurpose"> &#8212; Moderated community post Storable object (all props/options).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.modlog.html">
      <span class="database">modlog</span>
    </a></span><span class="refpurpose"> &#8212; Moderated community post summary information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.moods.html">
      <span class="database">moods</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.moodthemedata.html">
      <span class="database">moodthemedata</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.moodthemes.html">
      <span class="database">moodthemes</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.navtag.html">
      <span class="database">navtag</span>
    </a></span><span class="refpurpose"> &#8212; Holds data for site pages tagged using the htdocs/admin/navtag.bml tool. Siteadmins can tag any URL. The tag itself is lowercase UTF-8. Some are recognized as special (FAQs, user profile pages, etc.), and users can then search by tag.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.needed_backups.html">
      <span class="database">needed_backups</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.news_sent.html">
      <span class="database">news_sent</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.noderefs.html">
      <span class="database">noderefs</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifyarchive.html">
      <span class="database">notifyarchive</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifybookmarks.html">
      <span class="database">notifybookmarks</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifyqueue.html">
      <span class="database">notifyqueue</span>
    </a></span><span class="refpurpose"> &#8212; ESN event queue notification method.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.notifytypelist.html">
      <span class="database">notifytypelist</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.oldids.html">
      <span class="database">oldids</span>
    </a></span><span class="refpurpose"> &#8212; Stores globally-unique itemid and talkid ID (entries and comments), for URL compatibility. These were used pre-clustering. The LJ::get_newids function uses this table to find out what journal an old global ID belongs to and maps it to its new ID.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openid_endpoint.html">
      <span class="database">openid_endpoint</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openid_external.html">
      <span class="database">openid_external</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openid_trust.html">
      <span class="database">openid_trust</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.openproxy.html">
      <span class="database">openproxy</span>
    </a></span><span class="refpurpose"> &#8212; Tracks open HTTP proxies.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.overrides.html">
      <span class="database">overrides</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Stores user S1 style system override customizations. Please see also the <a class="link" href="ljp.dbschema.s1overrides.html" title="s1overrides"><span class="database">s1overrides</span></a> clustered table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paidexp.html">
      <span class="database">paidexp</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paiduser.html">
      <span class="database">paiduser</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.partialstats.html">
      <span class="database">partialstats</span>
    </a></span><span class="refpurpose"> &#8212; Partialstats - stores calculation times.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.partialstatsdata.html">
      <span class="database">partialstatsdata</span>
    </a></span><span class="refpurpose"> &#8212; Partialstats - stores data per cluster.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.password.html">
      <span class="database">password</span>
    </a></span><span class="refpurpose"> &#8212; Holds user login passwords, which were historically stored in the <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paycredit.html">
      <span class="database">paycredit</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payitemprop.html">
      <span class="database">payitemprop</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payitems.html">
      <span class="database">payitems</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payments.html">
      <span class="database">payments</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paymentsearch.html">
      <span class="database">paymentsearch</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paystates.html">
      <span class="database">paystates</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.paytrans.html">
      <span class="database">paytrans</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.payvars.html">
      <span class="database">payvars</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pendcomments.html">
      <span class="database">pendcomments</span>
    </a></span><span class="refpurpose"> &#8212; Stores comments, such as OpenID comments, awaiting user approval.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.perm_sale_200706.html">
      <span class="database">perm_sale_200706</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.persistent_queue.html">
      <span class="database">persistent_queue</span>
    </a></span><span class="refpurpose"> &#8212; Global table for persistent queues.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phonepostdests.html">
      <span class="database">phonepostdests</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phonepostentry.html">
      <span class="database">phonepostentry</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phonepostlogin.html">
      <span class="database">phonepostlogin</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.phoneposttrans.html">
      <span class="database">phoneposttrans</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.poll.html">
      <span class="database">poll</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.poll2.html">
      <span class="database">poll2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollitem.html">
      <span class="database">pollitem</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollitem2.html">
      <span class="database">pollitem2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollowner.html">
      <span class="database">pollowner</span>
    </a></span><span class="refpurpose"> &#8212; Global. Maps a pollid to a userid.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollquestion.html">
      <span class="database">pollquestion</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollquestion2.html">
      <span class="database">pollquestion2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollresult.html">
      <span class="database">pollresult</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollresult2.html">
      <span class="database">pollresult2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollsubmission.html">
      <span class="database">pollsubmission</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.pollsubmission2.html">
      <span class="database">pollsubmission2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal.html">
      <span class="database">portal</span>
    </a></span><span class="refpurpose"> &#8212; Stored data for old '1.0' version of the Portal; used before the Portal was re-designed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal_box_prop.html">
      <span class="database">portal_box_prop</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal_config.html">
      <span class="database">portal_config</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.portal_typemap.html">
      <span class="database">portal_typemap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_list.html">
      <span class="database">priv_list</span>
    </a></span><span class="refpurpose"> &#8212; List of different admin privileges that users can have.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_map.html">
      <span class="database">priv_map</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_packages.html">
      <span class="database">priv_packages</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.priv_packages_content.html">
      <span class="database">priv_packages_content</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.procnotify.html">
      <span class="database">procnotify</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.promo_item.html">
      <span class="database">promo_item</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.promo_set.html">
      <span class="database">promo_set</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.qotd.html">
      <span class="database">qotd</span>
    </a></span><span class="refpurpose"> &#8212; Data for the Question of the Day ("Writer's Block") widget.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.random_user_set.html">
      <span class="database">random_user_set</span>
    </a></span><span class="refpurpose"> &#8212; On posting an entry (public, to personal journal, and not opted out (using latest_optout option at the console)) a user may end up with a row in this table. The htdocs/random.bml page returns a random user that is both 1) publicly listed in the directory, and 2) updated within the past 24 hours. If a user changes their privacy setting, using the console, to not be in this table, it will take up to 24 hours for them to be removed from the random.bml listing; a cron job builds/cleans the table. 

The information row is kept for seven days by default. Site administrators can adjust this using the $LJ::RANDOM_USER_PERIOD variable.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.rateabuse.html">
      <span class="database">rateabuse</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ratelist.html">
      <span class="database">ratelist</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.ratelog.html">
      <span class="database">ratelog</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.readonly_user.html">
      <span class="database">readonly_user</span>
    </a></span><span class="refpurpose"> &#8212; Used by the move user cluster script. Both before and after updating a user's read-only flag we add the user to this table, which is just an index onto users who - might - be in read-only. 

A maintenance task will periodically clean those and make sure nobody is stranded in read-only, without resorting to a full tablescan of the <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a> table, by checking if users are still locked, removing those that are not from this table, querying the job server (if up) for users that are still locked and unlocking those that can be unlocked.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill.html">
      <span class="database">recbill</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_cc.html">
      <span class="database">recbill_cc</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_items.html">
      <span class="database">recbill_items</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_log.html">
      <span class="database">recbill_log</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_pendtime.html">
      <span class="database">recbill_pendtime</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recbill_promo.html">
      <span class="database">recbill_promo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.recentactions.html">
      <span class="database">recentactions</span>
    </a></span><span class="refpurpose"> &#8212; A clustered table where a bunch of actions that have happened are logged, like a post action (which calls LJ::note_recent_action).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.reluser.html">
      <span class="database">reluser</span>
    </a></span><span class="refpurpose"> &#8212; Tracks special links ("reluser relationships") between accounts, such as community maintainers/moderators. A relationship "type" is a single character. 

It is a non-clustered global table. Please see also <a class="link" href="ljp.dbschema.reluser2.html" title="reluser2"><span class="database">reluser2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.reluser2.html">
      <span class="database">reluser2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Tracks special links ("reluser relationships") between accounts.  

Relationship type IDs are defined in the LJ::get_reluser_id function. A relationship "typeid" cannot be a single character. Please see also <a class="link" href="ljp.dbschema.reluser.html" title="reluser"><span class="database">reluser</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.renames.html">
      <span class="database">renames</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1overrides.html">
      <span class="database">s1overrides</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Stores user S1 style system override customizations. The clustered table was used from data version 5. Please see also the global <a class="link" href="ljp.dbschema.overrides.html" title="overrides"><span class="database">overrides</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1style.html">
      <span class="database">s1style</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. User style data for S1 style system. The clustered table was used from data version 5. Please see also the global <a class="link" href="ljp.dbschema.style.html" title="style"><span class="database">style</span></a> table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1stylecache.html">
      <span class="database">s1stylecache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1stylemap.html">
      <span class="database">s1stylemap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s1usercache.html">
      <span class="database">s1usercache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2checker.html">
      <span class="database">s2checker</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2compiled.html">
      <span class="database">s2compiled</span>
    </a></span><span class="refpurpose"> &#8212; Global table (compdata is not gzipped). Please see also <a class="link" href="ljp.dbschema.s2compiled2.html" title="s2compiled2"><span class="database">s2compiled2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2compiled2.html">
      <span class="database">s2compiled2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table (compdata is gzipped). This table is keyed on (userid, layerid) and contains data that is compressed when it's put in. (Tests show this reduces data size by about 75 percent.) 

Only for user S2 layers (not system) and is lazily migrated. New saves go here. Loads try this table first (unless user is system) and if miss, then try the <a class="link" href="ljp.dbschema.s2compiled.html" title="s2compiled"><span class="database">s2compiled</span></a> table on the global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2info.html">
      <span class="database">s2info</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2layers.html">
      <span class="database">s2layers</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2source.html">
      <span class="database">s2source</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2source_inno.html">
      <span class="database">s2source_inno</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2stylelayers.html">
      <span class="database">s2stylelayers</span>
    </a></span><span class="refpurpose"> &#8212; Please see also clustered table, called <a class="link" href="ljp.dbschema.s2stylelayers2.html" title="s2stylelayers2"><span class="database">s2stylelayers2</span></a> on the user clusters.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2stylelayers2.html">
      <span class="database">s2stylelayers2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.s2styles.html">
      <span class="database">s2styles</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_error.html">
      <span class="database">sch_error</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_exitstatus.html">
      <span class="database">sch_exitstatus</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_funcmap.html">
      <span class="database">sch_funcmap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_job.html">
      <span class="database">sch_job</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sch_note.html">
      <span class="database">sch_note</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schemacols.html">
      <span class="database">schemacols</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schematables.html">
      <span class="database">schematables</span>
    </a></span><span class="refpurpose"> &#8212; This table is the documentation for the database tables.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schools.html">
      <span class="database">schools</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schools_attended.html">
      <span class="database">schools_attended</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.schools_pending.html">
      <span class="database">schools_pending</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.secrets.html">
      <span class="database">secrets</span>
    </a></span><span class="refpurpose"> &#8212; Data for a rotating secret value on the server, for auth support.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sessions.html">
      <span class="database">sessions</span>
    </a></span><span class="refpurpose"> &#8212; Web sessions.  Optionally tied to IPs and with expiration times. Whenever a session is okayed, expired ones or ones created over 30 days ago are deleted. 

A live session can't change e-mail address or password. Digest authentication will be required for that, or JavaScript MD5 challenge-response.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sessions_data.html">
      <span class="database">sessions_data</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.shipping.html">
      <span class="database">shipping</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.site_messages.html">
      <span class="database">site_messages</span>
    </a></span><span class="refpurpose"> &#8212; Data for SiteMessages widget (used to post announcements to users). </span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msg.html">
      <span class="database">sms_msg</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgack.html">
      <span class="database">sms_msgack</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgerror.html">
      <span class="database">sms_msgerror</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgprop.html">
      <span class="database">sms_msgprop</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgproplist.html">
      <span class="database">sms_msgproplist</span>
    </a></span><span class="refpurpose"> &#8212; Unlike most other *proplist tables, this one is auto-populated by the LiveJournal application.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_msgtext.html">
      <span class="database">sms_msgtext</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_promo.html">
      <span class="database">sms_promo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sms_quota.html">
      <span class="database">sms_quota</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.smsuniqmap.html">
      <span class="database">smsuniqmap</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.smsusermap.html">
      <span class="database">smsusermap</span>
    </a></span><span class="refpurpose"> &#8212; Global.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.spamreports.html">
      <span class="database">spamreports</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Used for the spam reporting system, with the <a class="link" href="ljp.dbschema.tempanonips.html" title="tempanonips"><span class="database">tempanonips</span></a> table. When deleting a comment, users have the option to "mark comment as spam." When checked, the comment is saved here for administrator review. 

The admin tool (/admin/spamreports.bml hinging on siteadmin:spamreports) allows spam report viewing: top 10 reported IPs, top 10 reported users (and showing if someone has received a spam warning before), last 10 reports, reports in last 1 hour, 6 hours, and 24 hours. Admins can then take whatever action they think is necessary and close the report (page supports sorting by open/closed).

The LJ::mark_comment_as_spam function copies the comment reported as spam into this table. The LJ::mark_entry_as_spam function parallels it, copying a community entry marked as spam into the table. 

If the comment was anonymous, the LJ::record_anon_comment_ip function will get the IP and record it into the <a class="link" href="ljp.dbschema.tempanonips.html" title="tempanonips"><span class="database">tempanonips</span></a> table. An ljmaint script cron task cleans out data older than 90 days. 

The 'spamreport_notification' hook exists for optionally notifying people about spamming.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.spinvox_msg.html">
      <span class="database">spinvox_msg</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.stats.html">
      <span class="database">stats</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.statushistory.html">
      <span class="database">statushistory</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.style.html">
      <span class="database">style</span>
    </a></span><span class="refpurpose"> &#8212; Global table. User style data for S1 style system. Please see also the <a class="link" href="ljp.dbschema.s1style.html" title="s1style"><span class="database">s1style</span></a> clustered table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.subs.html">
      <span class="database">subs</span>
    </a></span><span class="refpurpose"> &#8212; Partitioned: ESN subscriptions:  details of a user's subscriptions.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.subsprop.html">
      <span class="database">subsprop</span>
    </a></span><span class="refpurpose"> &#8212; Partitioned: ESN subscriptions:  metadata on a user's subscriptions.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.subsproplist.html">
      <span class="database">subsproplist</span>
    </a></span><span class="refpurpose"> &#8212; Unlike most other *proplist tables, this one is auto-populated by the LiveJournal application.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_extblocks.html">
      <span class="database">sup_extblocks</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsor_history.html">
      <span class="database">sup_sponsor_history</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsored_user_history.html">
      <span class="database">sup_sponsored_user_history</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsored_users.html">
      <span class="database">sup_sponsored_users</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sup_sponsors.html">
      <span class="database">sup_sponsors</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.support.html">
      <span class="database">support</span>
    </a></span><span class="refpurpose"> &#8212; Holds data for the Support system.  

It is indexed by state, requserid, and reqemail, to let users with the supporthelp priv see past support requests by a user: When viewing a support request, the user with the priv will history.bml, which will then pull up a list of all requests opened by that user or by that e-mail address.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.support_answers.html">
      <span class="database">support_answers</span>
    </a></span><span class="refpurpose"> &#8212; Holds stock answers for Support system. Answers are viewable by those with the "supporthelp" priv, and editable by people who have the ability to grant privileges in their category.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.support_youreplied.html">
      <span class="database">support_youreplied</span>
    </a></span><span class="refpurpose"> &#8212; Holds data for which support tickets a user responded to. Aids in making the Support system "You Replied" query fast.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportcat.html">
      <span class="database">supportcat</span>
    </a></span><span class="refpurpose"> &#8212; Categories for support system.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportlog.html">
      <span class="database">supportlog</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportnotify.html">
      <span class="database">supportnotify</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportpoints.html">
      <span class="database">supportpoints</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportpointsum.html">
      <span class="database">supportpointsum</span>
    </a></span><span class="refpurpose"> &#8212; Holds data on user Support points. Used for speedier querying for htdocs/support/highscores.bml.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.supportprop.html">
      <span class="database">supportprop</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.survey_v0_8bit.html">
      <span class="database">survey_v0_8bit</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.syndicated.html">
      <span class="database">syndicated</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.synitem.html">
      <span class="database">synitem</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.sysban.html">
      <span class="database">sysban</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talk2.html">
      <span class="database">talk2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkleft.html">
      <span class="database">talkleft</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkleft_xfp.html">
      <span class="database">talkleft_xfp</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkprop2.html">
      <span class="database">talkprop2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talkproplist.html">
      <span class="database">talkproplist</span>
    </a></span><span class="refpurpose"> &#8212; List of possible meta-data for comments.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.talktext2.html">
      <span class="database">talktext2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.temp_stylecontest2poll.html">
      <span class="database">temp_stylecontest2poll</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.tempanonips.html">
      <span class="database">tempanonips</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Temporary IP storage for spam reports, whether the journal in which the anonymous comment was posted in has enabled IP tracking or not. Used with the <a class="link" href="ljp.dbschema.spamreports.html" title="spamreports"><span class="database">spamreports</span></a> table. 

For the anonymous comment, LJ::record_anon_comment_ip gets the IP and records it into the this table. It is cleaned by an ljmaint script. 

Note: These IPs are only stored for 5 days - so anonymous comments deleted after 5 days are fairly useless, and reports about them are quietly discarded by the comment deletion system.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.themedata.html">
      <span class="database">themedata</span>
    </a></span><span class="refpurpose"> &#8212; Lists the system colors themes available to users.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.themelist.html">
      <span class="database">themelist</span>
    </a></span><span class="refpurpose"> &#8212; Different color schemes.  Hopefully this will die when the new style system replaces the current one.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.todo.html">
      <span class="database">todo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.tododep.html">
      <span class="database">tododep</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.todokeyword.html">
      <span class="database">todokeyword</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.transferinfo.html">
      <span class="database">transferinfo</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.tshirtpoll.html">
      <span class="database">tshirtpoll</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.txtmsg.html">
      <span class="database">txtmsg</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.underage.html">
      <span class="database">underage</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.uniqmap.html">
      <span class="database">uniqmap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.urimap.html">
      <span class="database">urimap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.user.html">
      <span class="database">user</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.user_schools.html">
      <span class="database">user_schools</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userbio.html">
      <span class="database">userbio</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userblob.html">
      <span class="database">userblob</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table, for tracking blobs (binary large objects) of on-disk data. 

The user counter type "B" is available for tracking blobids. Blob* files/classes for storing Blobs need to be added either to a local path or a remote Blob server ("remote Blob server" support has since been removed in favor of MogileFS). 

Notes: blobids aren't necessarily unique between domains; global userpicids may collide with the counter used for the rest.  So, the type must be in the key. domain IDs are set up in ljconfig.pl.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userblobcache.html">
      <span class="database">userblobcache</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usercounter.html">
      <span class="database">usercounter</span>
    </a></span><span class="refpurpose"> &#8212; User counters on the global (contrary to the name).</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.useridmap.html">
      <span class="database">useridmap</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userinterests.html">
      <span class="database">userinterests</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userkeywords.html">
      <span class="database">userkeywords</span>
    </a></span><span class="refpurpose"> &#8212; Clustered userpic keywords. See also <a class="link" href="ljp.dbschema.userpic2.html" title="userpic2"><span class="database">userpic2</span></a>/<a class="link" href="ljp.dbschema.userpicmap2.html" title="userpicmap2"><span class="database">userpicmap2</span></a> 

The userkeywords table never gets deleted from, except if the user itself gets deleted.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userlog.html">
      <span class="database">userlog</span>
    </a></span><span class="refpurpose"> &#8212; Useful for general purpose status logging, such as when an entry is deleted or logging post-by-e-mail activity. 

The table stores the initiator of the event so that we are able to look back and say, for example: "this person deleted the entry". This works for communities and individual journals and the actions are logged on the account that lost the entry. 

The basic format is [ action, actiontarget ]. An action is just a textual description of what happened (up to 30 characters) and the target is optional but is likely some numeric value.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsg.html">
      <span class="database">usermsg</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsgprop.html">
      <span class="database">usermsgprop</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsgproplist.html">
      <span class="database">usermsgproplist</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usermsgtext.html">
      <span class="database">usermsgtext</span>
    </a></span><span class="refpurpose"> &#8212; Clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpic.html">
      <span class="database">userpic</span>
    </a></span><span class="refpurpose"> &#8212; Global table. Userpic storage. Please see also <a class="link" href="ljp.dbschema.userpicmap.html" title="userpicmap"><span class="database">userpicmap</span></a>. For sites using data version 7 or greater, the clustered <a class="link" href="ljp.dbschema.userpic2.html" title="userpic2"><span class="database">userpic2</span></a> table is used.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpic2.html">
      <span class="database">userpic2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. From data version 7, userpics are clustered - see also <a class="link" href="ljp.dbschema.userpicmap2.html" title="userpicmap2"><span class="database">userpicmap2</span></a>. A site-configurable limit to the number of keywords (<a class="link" href="ljp.dbschema.userkeywords.html" title="userkeywords"><span class="database">userkeywords</span></a>) for each userpic exists; default is 5. 

The global <a class="link" href="ljp.dbschema.userpic.html" title="userpic"><span class="database">userpic</span></a> table is used prior to data version 7.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpicblob2.html">
      <span class="database">userpicblob2</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpicmap.html">
      <span class="database">userpicmap</span>
    </a></span><span class="refpurpose"> &#8212; Stores data for mapping userpic <a class="link" href="ljp.dbschema.keywords.html" title="keywords"><span class="database">keywords</span></a> to <a class="link" href="ljp.dbschema.userpic.html" title="userpic"><span class="database">userpic</span></a>s. Please see also <a class="link" href="ljp.dbschema.userpicmap2.html" title="userpicmap2"><span class="database">userpicmap2</span></a>.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpicmap2.html">
      <span class="database">userpicmap2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered table. Stores data for mapping userpic keywords (<a class="link" href="ljp.dbschema.userkeywords.html" title="userkeywords"><span class="database">userkeywords</span></a>) to userpics (<a class="link" href="ljp.dbschema.userpic2.html" title="userpic2"><span class="database">userpic2</span></a>). From data version 7, userpics are clustered.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userprop.html">
      <span class="database">userprop</span>
    </a></span><span class="refpurpose"> &#8212; Global, indexed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userpropblob.html">
      <span class="database">userpropblob</span>
    </a></span><span class="refpurpose"> &#8212; Clustered. This table was introduced to support user properties greater than 255 bytes.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userproplist.html">
      <span class="database">userproplist</span>
    </a></span><span class="refpurpose"> &#8212; List of possible meta-data on users.

Allows for having userprops stored globally for indexing; and, by way of the multihomed column, on a cluster as "multihomed userprops", for easy access on user profile pages and such.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userproplite.html">
      <span class="database">userproplite</span>
    </a></span><span class="refpurpose"> &#8212; Global, not indexed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userproplite2.html">
      <span class="database">userproplite2</span>
    </a></span><span class="refpurpose"> &#8212; Clustered, not indexed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usersearch_packdata.html">
      <span class="database">usersearch_packdata</span>
    </a></span><span class="refpurpose"> &#8212; Information for Directory Search: userid, a "pack" of information - time of last update, age, journal type, country, state, and city; row modification time, and expiry information.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertags.html">
      <span class="database">usertags</span>
    </a></span><span class="refpurpose"> &#8212; Table showing what tags a user has; parentkwid can be null.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertrans.html">
      <span class="database">usertrans</span>
    </a></span><span class="refpurpose"> &#8212; Global. Tracks user account transitions (e.g. "free" to "plus", or whatever site-specific capability classes exist). The time, type, and before =&gt; after values are noted in the table.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertrans_churn.html">
      <span class="database">usertrans_churn</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.usertrans_sum.html">
      <span class="database">usertrans_sum</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.userusage.html">
      <span class="database">userusage</span>
    </a></span><span class="refpurpose"> &#8212; Keep track of when <a class="link" href="ljp.dbschema.user.html" title="user"><span class="database">user</span></a>s did certain things.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vertical.html">
      <span class="database">vertical</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vertical_entries.html">
      <span class="database">vertical_entries</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vertical_rules.html">
      <span class="database">vertical_rules</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.vgifts.html">
      <span class="database">vgifts</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.weekuserusage.html">
      <span class="database">weekuserusage</span>
    </a></span><span class="refpurpose"> &#8212; Obsolete table. It was used to keep track of user activity, such as latest time a user posted in a week, for a given week. Used from data version 3, but ceased to be used later, when the Friends view algorithm was re-designed.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.xuqa_log.html">
      <span class="database">xuqa_log</span>
    </a></span><span class="refpurpose"></span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.zip.html">
      <span class="database">zip</span>
    </a></span><span class="refpurpose"> &#8212; ZIP Code table used to validate and auto-complete user-entered location data. More information can be found in the (redundant) table <a class="link" href="ljp.dbschema.zips.html" title="zips"><span class="database">zips</span></a>, which was imported later.</span>
</dt>
<dt>
<span class="refentrytitle"><a href="ljp.dbschema.zips.html">
      <span class="database">zips</span>
    </a></span><span class="refpurpose"> &#8212; ZIP Code data for the United States that includes geographic co-ordinates. Only used with an ljmaint script that generates marker files for use in making Xplanet maps. Most of the LJ code uses the <a class="link" href="ljp.dbschema.zip.html" title="zip"><span class="database">zip</span></a> table instead.</span>
</dt>
</dl>
</div>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="ljp.dbschema.reluser.ref.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="ljp.dbschema.index.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="ljp.dbschema.abuse_mail.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">Chapter 33. Relationships between users </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> 
      <span class="database">abuse_mail</span>
    </td>
</tr>
</table>
</div>
</body>
</html>
