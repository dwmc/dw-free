<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Chapter 2. BML Block Types</title>
<link rel="stylesheet" href="style.css" type="text/css">
<meta name="generator" content="DocBook XSL Stylesheets V1.73.2">
<link rel="start" href="index.html" title="LiveJournal Server">
<link rel="up" href="bml.index.html" title="The Better Markup Language">
<link rel="prev" href="bml.tutorial.fullexample.html" title="4. A Full Example">
<link rel="next" href="bml.core.html" title="Chapter 3. Core BML blocks">
<meta name="date" content="2008-Jan-15">
</head>
<body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF">
<div class="navheader">
<table width="100%" summary="Navigation header">
<tr><th colspan="3" align="center">Chapter 2. BML Block Types</th></tr>
<tr>
<td width="20%" align="left">
<a accesskey="p" href="bml.tutorial.fullexample.html">Prev</a> </td>
<th width="60%" align="center">The Better Markup Language</th>
<td width="20%" align="right"> <a accesskey="n" href="bml.core.html">Next</a>
</td>
</tr>
</table>
<hr>
</div>
<div class="chapter" lang="en" id="bml.flags">
<div class="titlepage"><div><div><h2 class="title">Chapter 2. BML Block Types</h2></div></div></div>
<p>
    This documents the flags in braces at the beginning of <code class="filename">.look</code> file block template definitions.
    The flags fall into one of three classes:
  </p>
<p>
    </p>
<div class="variablelist">
<p class="title"><b>Variable definition types:</b></p>
<dl>
<dt><span class="term">F</span></dt>
<dd>
<p>Full, mix of multi &amp; single line property definitions:
            </p>
<pre class="programlisting">&lt;?template
foo&lt;=
Multi
line
string
&lt;=foo
bar=&gt;Single line string
template?&gt;</pre>
<p>
          </p>
</dd>
<dt><span class="term">P</span></dt>
<dd>
<p>Pipe delimited, properties are named DATA&lt;n&gt;, where &lt;n&gt; starts at 1 and increases.
            </p>
<pre class="programlisting">&lt;?template DATA1|second arg|DATA3 template?&gt;</pre>
<p>
          </p>
</dd>
<dt><span class="term">D</span></dt>
<dd>
<p>One property, and it's named DATA
            </p>
<pre class="programlisting">&lt;?template I am the DATA template?&gt;</pre>
<p>
          </p>
</dd>
</dl>
</div>
<p>
    </p>
<div class="variablelist">
<p class="title"><b>Static template definitions:</b></p>
<dl>
<dt><span class="term">S</span></dt>
<dd><p>Static: output won't have more BML to expand, or properties to fill-in, so don't try.</p></dd>
<dt><span class="term">R</span></dt>
<dd><p>Less static: add pRoperties, but then don't BML expand.</p></dd>
</dl>
</div>
<p>
    </p>
<div class="variablelist">
<p class="title"><b>Controlling expansion vs. interpolation order:</b></p>
<dl>
<dt><span class="term">p</span></dt>
<dd><p>
            Pre-parsed.
            BML-expand parameters first, then interpolate into template. 
            By default, parameters are interpolated first, then everything is expanded. 
            But if you use <code class="literal">%%TITLE%%</code> twice in your <code class="literal">PAGE</code>, for example, and your <code class="filename">.bml</code> file defines <code class="literal">TITLE=&gt;</code> with a <code class="literal">_CODE</code> block, it will be run twice, so it's generally a good idea to make <code class="literal">PAGE</code> definitions pre-parsed. 
            Also, then, you avoid re-running most of your output through the BML expander a second time.
          </p></dd>
<dt><span class="term">s</span></dt>
<dd>
<p>
            Expand embedded parameterless static blocks in definition early. 
            When the template file is read, any blocks of the form <code class="literal">&lt;?foo?&gt;</code>  are expanded ahead of time. 
            Useful in conjunction with the <code class="literal">{S}</code> flag.  consider:
            </p>
<pre class="programlisting"># Our image server:
IMGPREFIX=&gt;{S}http://www.site.com:8080/

# Some block that has an image:
SPACER=&gt;{Ss}&lt;img src='&lt;?imgprefix?&gt;/spacer.gif' width='1' height='10'&gt;</pre>
<p>
            The <code class="literal">SPACER</code> block isn't really static, but because <code class="literal">{s}</code> is used and <code class="literal">&lt;?IMGPREFIX?&gt;</code> is static, then <code class="literal">SPACER</code> can also be static.
          </p>
</dd>
</dl>
</div>
<p>
  </p>
</div>
<div class="navfooter">
<hr>
<table width="100%" summary="Navigation footer">
<tr>
<td width="40%" align="left">
<a accesskey="p" href="bml.tutorial.fullexample.html">Prev</a> </td>
<td width="20%" align="center"><a accesskey="u" href="bml.index.html">Up</a></td>
<td width="40%" align="right"> <a accesskey="n" href="bml.core.html">Next</a>
</td>
</tr>
<tr>
<td width="40%" align="left" valign="top">4. A Full Example </td>
<td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td>
<td width="40%" align="right" valign="top"> Chapter 3. Core <abbr class="abbrev">BML</abbr> blocks</td>
</tr>
</table>
</div>
</body>
</html>
